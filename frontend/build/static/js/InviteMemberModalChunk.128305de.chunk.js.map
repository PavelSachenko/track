{"version":3,"sources":["icons/agents.svg","containers/Modals/components/InviteMemberModal/InviteMemberModal.tsx"],"names":["_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","_ref2","_ref3","clipPath","d","_ref4","_ref5","id","transform","SvgAgents","_ref","svgRef","title","titleId","props","xmlns","fill","viewBox","ref","ForwardRef","validate","email","errors","validateFormValues","isEmpty","isEmail","InviteMemberModal","setPending","closeModal","useState","serverErrors","setServerErrors","useToggle","pending","togglePending","className","onSubmit","values","API","sendInvite","then","catch","err","response","data","message","console","log","handleSubmit","name","type","errorInputClass","errorClass","component","FormTextInput","placeholder","onClick","spinnerSize"],"mappings":"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","file":"static/js/InviteMemberModalChunk.128305de.chunk.js","sourcesContent":["function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"defs\", null);\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"g\", {\n  clipPath: \"url(#clip0)\"\n}, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M16.968 1.715c2.599 0 4.743 2.08 4.743 4.679 0 1.494-.715 2.794-1.754 3.639C23.4 11.267 25.87 14.45 26 18.285h-1.69c-.13-3.964-3.379-7.083-7.342-7.083-3.964 0-7.213 3.12-7.343 7.083H8a9.107 9.107 0 015.978-8.252c-1.04-.845-1.69-2.145-1.69-3.64a4.66 4.66 0 014.68-4.678zm0 1.624a3.05 3.05 0 00-3.055 3.055 3.05 3.05 0 003.055 3.054 3.05 3.05 0 003.054-3.054 3.05 3.05 0 00-3.054-3.055z\"\n}));\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"g\", {\n  clipPath: \"url(#clip1)\"\n}, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M10.96.874c3.177 0 5.798 2.541 5.798 5.718 0 1.827-.873 3.415-2.144 4.448 4.21 1.509 7.227 5.4 7.386 10.086h-2.065c-.159-4.845-4.13-8.657-8.975-8.657-4.844 0-8.816 3.813-8.974 8.657H0A11.13 11.13 0 017.307 11.04c-1.27-1.033-2.065-2.621-2.065-4.448A5.695 5.695 0 0110.96.874zm0 1.985a3.729 3.729 0 00-3.733 3.733 3.729 3.729 0 003.733 3.733 3.728 3.728 0 003.733-3.733 3.728 3.728 0 00-3.733-3.733z\"\n}));\n\nvar _ref5 = /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"clipPath\", {\n  id: \"clip0\"\n}, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M0 0h9v18H0z\",\n  transform: \"translate(17 1)\"\n})), /*#__PURE__*/React.createElement(\"clipPath\", {\n  id: \"clip1\"\n}, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M0 0h22v22H0z\"\n})));\n\nfunction SvgAgents(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"#000\",\n    viewBox: \"0 0 26 22\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3, _ref4, _ref5);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgAgents);\nexport default __webpack_public_path__ + \"static/media/agents.0c276be8.svg\";\nexport { ForwardRef as ReactComponent };","import { useState } from 'react';\nimport { Form, Field } from \"react-final-form\";\n\nimport API from '../../../../api/api';\nimport { useToggle } from '../../../../hooks';\nimport validateFormValues from \"../../../../utils/validateFormValues\";\n\nimport './InviteMemberModal.scss';\nimport { ReactComponent as AgentsIcon } from '../../../../icons/agents.svg'\nimport FormTextInput from '../../../../components/FormTextInput';\nimport AsyncBtn from '../../../../components/AsyncBtn/AsyncBtn';\n\ninterface IInviteFormValues {\n  email: string;\n}\n\nconst InviteMemberModal = (props: any) => {\n  const {\n    setPending,\n    closeModal,\n  } = props;\n\n  const [serverErrors, setServerErrors] = useState({});\n\n  const [pending, togglePending] = useToggle(false);\n\n  const onSubmit = (values: IInviteFormValues) => {\n    togglePending(true);\n    setPending(true);\n\n    API.sendInvite(values.email)\n      .then(() => {\n        setPending(false);\n        closeModal();\n      })\n      .catch((err) => {\n        setServerErrors({ email: err.response.data.message });\n        togglePending(false);\n        console.log(err);\n      })\n  }\n\n  return (\n    <div className=\"invite-member-modal modal-wrap\">\n      <div className=\"invite-member-modal__icon-wrap\">\n        <AgentsIcon />\n      </div>\n\n      <h2 className=\"invite-member-modal__title\">Invite a member</h2>\n\n      <Form\n        onSubmit={onSubmit}\n        validate={validate}\n      >\n        {({ handleSubmit }) => (\n          <form onSubmit={handleSubmit}>\n            <div className=\"form-group\">\n              <label className=\"label label--required\">Email</label>\n              <Field\n                name=\"email\"\n                type=\"email\"\n                className=\"input invite-member-modal__input\"\n                errorInputClass=\"input--error\"\n                errorClass=\"form-group__error\"\n                component={FormTextInput}\n                placeholder=\"Write a member's email\"\n                serverErrors={serverErrors}\n              />\n            </div>\n\n            <div className=\"invite-member-modal__btns\">\n              <button\n                type=\"button\"\n                className=\"invite-member-modal__cancel-btn btn\"\n                onClick={() => !props.pending && props.closeModal()}\n              >\n                Cancel\n              </button>\n\n              <AsyncBtn\n                type=\"submit\"\n                className=\"invite-member-modal__send-btn btn btn--primary\"\n                spinnerSize=\"18px\"\n                pending={pending}\n              >\n                Send\n              </AsyncBtn>\n            </div>\n          </form>\n        )}\n      </Form>\n    </div>\n  )\n}\n\nconst validate = ({ email }: { email: string }) => {\n  const errors: any = {};\n\n  if (validateFormValues.isEmpty(email)) {\n    errors.email = 'Enter the email';\n  }\n  else if (!validateFormValues.isEmail(email)) {\n    errors.email = 'Incorrect email';\n  }\n\n  return errors;\n};\n\nexport default InviteMemberModal;\n"],"sourceRoot":""}
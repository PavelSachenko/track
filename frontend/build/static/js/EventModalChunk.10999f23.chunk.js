(this["webpackJsonpstart-react-typescript"]=this["webpackJsonpstart-react-typescript"]||[]).push([[9],{125:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n(0);function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function r(e,t){if(null==e)return{};var n,a,l=function(e,t){if(null==e)return{};var n,a,l={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(l[n]=e[n]);return l}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}var c=a.createElement("defs",null),i=a.createElement("path",{d:"M12 19.2a7.2 7.2 0 100-14.4 7.2 7.2 0 000 14.4zm0-12.96a5.76 5.76 0 110 11.52 5.76 5.76 0 010-11.52z"}),o=a.createElement("path",{d:"M11.52 13.2h3.12v-1.44h-2.4V8.88H10.8v3.6a.72.72 0 00.72.72z"});function s(e,t){var n=e.title,s=e.titleId,d=r(e,["title","titleId"]);return a.createElement("svg",l({xmlns:"http://www.w3.org/2000/svg",fill:"#000",viewBox:"4.8 4.8 14.4 14.4",ref:t,"aria-labelledby":s},d),n?a.createElement("title",{id:s},n):null,c,i,o)}var d=a.forwardRef(s);n.p},129:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var a=n(0);function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function r(e,t){if(null==e)return{};var n,a,l=function(e,t){if(null==e)return{};var n,a,l={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(l[n]=e[n]);return l}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}var c=a.createElement("path",{d:"M2.15999 11.7597H9.83999C10.3492 11.7597 10.8376 11.5575 11.1976 11.1974C11.5577 10.8373 11.76 10.349 11.76 9.83975V2.15975C11.76 1.65053 11.5577 1.16217 11.1976 0.802101C10.8376 0.442031 10.3492 0.239746 9.83999 0.239746H2.15999C1.65077 0.239746 1.16242 0.442031 0.802345 0.802101C0.442275 1.16217 0.23999 1.65053 0.23999 2.15975V9.83975C0.23999 10.349 0.442275 10.8373 0.802345 11.1974C1.16242 11.5575 1.65077 11.7597 2.15999 11.7597ZM9.83999 10.7997H2.15999C1.90538 10.7997 1.6612 10.6986 1.48117 10.5186C1.30113 10.3385 1.19999 10.0944 1.19999 9.83975V4.07975H10.8V9.83975C10.8 10.0944 10.6988 10.3385 10.5188 10.5186C10.3388 10.6986 10.0946 10.7997 9.83999 10.7997ZM2.15999 1.19975H9.83999C10.0946 1.19975 10.3388 1.30089 10.5188 1.48092C10.6988 1.66096 10.8 1.90514 10.8 2.15975V3.11975H1.19999V2.15975C1.19999 1.90514 1.30113 1.66096 1.48117 1.48092C1.6612 1.30089 1.90538 1.19975 2.15999 1.19975Z",fill:"#201D9F"}),i=a.createElement("path",{d:"M3.12002 7.91995C3.38511 7.91995 3.60002 7.70505 3.60002 7.43996C3.60002 7.17486 3.38511 6.95996 3.12002 6.95996C2.85492 6.95996 2.64001 7.17486 2.64001 7.43996C2.64001 7.70505 2.85492 7.91995 3.12002 7.91995Z",fill:"#201D9F"}),o=a.createElement("path",{d:"M3.12002 9.83988C3.38511 9.83988 3.60002 9.62498 3.60002 9.35988C3.60002 9.09479 3.38511 8.87988 3.12002 8.87988C2.85492 8.87988 2.64001 9.09479 2.64001 9.35988C2.64001 9.62498 2.85492 9.83988 3.12002 9.83988Z",fill:"#201D9F"}),s=a.createElement("path",{d:"M5.04 7.91995C5.3051 7.91995 5.52 7.70505 5.52 7.43996C5.52 7.17486 5.3051 6.95996 5.04 6.95996C4.7749 6.95996 4.56 7.17486 4.56 7.43996C4.56 7.70505 4.7749 7.91995 5.04 7.91995Z",fill:"#201D9F"}),d=a.createElement("path",{d:"M5.04 9.83988C5.3051 9.83988 5.52 9.62498 5.52 9.35988C5.52 9.09479 5.3051 8.87988 5.04 8.87988C4.7749 8.87988 4.56 9.09479 4.56 9.35988C4.56 9.62498 4.7749 9.83988 5.04 9.83988Z",fill:"#201D9F"}),u=a.createElement("path",{d:"M6.95998 7.91995C7.22508 7.91995 7.43998 7.70505 7.43998 7.43996C7.43998 7.17486 7.22508 6.95996 6.95998 6.95996C6.69488 6.95996 6.47998 7.17486 6.47998 7.43996C6.47998 7.70505 6.69488 7.91995 6.95998 7.91995Z",fill:"#201D9F"}),m=a.createElement("path",{d:"M6.95998 9.83988C7.22508 9.83988 7.43998 9.62498 7.43998 9.35988C7.43998 9.09479 7.22508 8.87988 6.95998 8.87988C6.69488 8.87988 6.47998 9.09479 6.47998 9.35988C6.47998 9.62498 6.69488 9.83988 6.95998 9.83988Z",fill:"#201D9F"}),v=a.createElement("path",{d:"M8.88003 7.91995C9.14513 7.91995 9.36003 7.70505 9.36003 7.43996C9.36003 7.17486 9.14513 6.95996 8.88003 6.95996C8.61493 6.95996 8.40002 7.17486 8.40002 7.43996C8.40002 7.70505 8.61493 7.91995 8.88003 7.91995Z",fill:"#201D9F"}),b=a.createElement("path",{d:"M5.04 6.00004C5.3051 6.00004 5.52 5.78513 5.52 5.52004C5.52 5.25494 5.3051 5.04004 5.04 5.04004C4.7749 5.04004 4.56 5.25494 4.56 5.52004C4.56 5.78513 4.7749 6.00004 5.04 6.00004Z",fill:"#201D9F"}),f=a.createElement("path",{d:"M6.95998 6.00004C7.22508 6.00004 7.43998 5.78513 7.43998 5.52004C7.43998 5.25494 7.22508 5.04004 6.95998 5.04004C6.69488 5.04004 6.47998 5.25494 6.47998 5.52004C6.47998 5.78513 6.69488 6.00004 6.95998 6.00004Z",fill:"#201D9F"}),j=a.createElement("path",{d:"M8.88003 6.00004C9.14513 6.00004 9.36003 5.78513 9.36003 5.52004C9.36003 5.25494 9.14513 5.04004 8.88003 5.04004C8.61493 5.04004 8.40002 5.25494 8.40002 5.52004C8.40002 5.78513 8.61493 6.00004 8.88003 6.00004Z",fill:"#201D9F"});function p(e,t){var n=e.title,p=e.titleId,h=r(e,["title","titleId"]);return a.createElement("svg",l({width:12,height:12,viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":p},h),n?a.createElement("title",{id:p},n):null,c,i,o,s,d,u,m,v,b,f,j)}var h=a.forwardRef(p);n.p},130:function(e,t,n){"use strict";n(131);var a=n(1);t.a=function(e){var t=e.name,n=e.active,l=e.title,r=e.isDisabled,c=e.onToggle,i=function(e){return"".concat(e,"--").concat(n?"true":"false")},o=String(1e3*Math.random());return Object(a.jsxs)("label",{className:"toggle",htmlFor:o,children:[l&&Object(a.jsx)("span",{className:"toggle__title",children:l}),Object(a.jsx)("input",{type:"checkbox",name:t,id:o,className:"toggle__checkbox",checked:n,onChange:c,disabled:r}),Object(a.jsx)("div",{className:"toggle__main ".concat(i("toggle__main")),children:Object(a.jsx)("div",{className:"toggle__indicator ".concat(i("toggle__indicator"))})})]})}},131:function(e,t,n){},132:function(e,t,n){},133:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var a=n(19),l=n(10),r=n(15),c=(n(132),n(44)),i=n(0);function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function s(e,t){if(null==e)return{};var n,a,l=function(e,t){if(null==e)return{};var n,a,l={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(l[n]=e[n]);return l}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}var d=i.createElement("path",{d:"M2.1 9.89l-.12.11-1.12 5.14L6 14.02l9.14-9.14L11.12.86 2.1 9.9zm1.14.38L9.2 4.31 11.7 6.8l-5.96 5.96-2.5-2.49zm-.45 1.08l1.86 1.85-2.37.52.51-2.37zm9.66-5.31l-2.49-2.5 1.16-1.15 2.49 2.49-1.16 1.16z"});function u(e,t){var n=e.title,a=e.titleId,l=s(e,["title","titleId"]);return i.createElement("svg",o({fill:"#000",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},l),n?i.createElement("title",{id:a},n):null,d)}var m,v=i.forwardRef(u),b=(n.p,n(1));!function(e){e[e.work=1]="work",e[e.rest=2]="rest",e[e.request=3]="request"}(m||(m={}));t.b=function(e){var t,n,i=e.item,o=e.filterDate,s=Object(a.c)(),d=function(e){var t=[],n=36e5,a=Math.trunc(e/n);a>0&&(t.push(a+"h"),e-=a*n);var l=Math.trunc(e/6e4);return l>0&&t.push(l+" min"),t.join(" ")}(+new Date(i.to)-+new Date(i.from));return Object(b.jsxs)("div",{className:Object(r.b)("event",[i.type===m.request&&"request",i.type===m.rest&&"unavailable"]),children:[i.type===m.rest?Object(b.jsx)("p",{children:"Unavailable"}):Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("div",{className:"event__avatar",children:Object(b.jsx)(c.a,{src:Object(r.c)(i.agency||{img:null,type:2})})}),Object(b.jsxs)("div",{className:"event__info",children:[i.agency&&Object(b.jsx)("div",{className:"event__name",children:i.agency.name}),Object(b.jsx)("div",{className:"event__time",children:(t=i.from,n=i.to,new Date(t).toLocaleString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0}).toLowerCase()+" - "+new Date(n).toLocaleString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0}).toLowerCase())})]})]}),Object(b.jsx)("button",{className:"event__edit-btn",type:"button",onClick:function(){s(Object(l.d)(l.a.eventModal,{filterDate:o,event:i,isEditMode:!0}))},children:Object(b.jsx)(v,{})}),Object(b.jsx)("span",{className:"event__duration",children:d})]})}},180:function(e,t,n){},192:function(e,t,n){"use strict";n.r(t);var a=n(12),l=n(2),r=n(3),c=n(0),i=n(19),o=n(137),s=n(13),d=n(133),u=n(45),m=n(7),v=n(10),b=(n(180),n(46)),f=n(125),j=n(129),p=n(130),h=n(23),O=n(1),g=36e5,_={value:0,label:"None"},C={openModal:v.d,addEvent:u.a,updateEvent:u.e};t.default=Object(i.b)(null,C)((function(e){var t=e.event,n=e.pending,i=e.isEditMode,u=e.filterDate,C=e.selectedData,x=e.addEvent,y=e.updateEvent,w=e.openModal,N=e.closeModal,E=e.setPending,M=Object(c.useState)({}),D=Object(r.a)(M,2),S=D[0],k=D[1],I=Object(c.useState)([]),P=Object(r.a)(I,2),Z=P[0],F=P[1],H=Object(c.useState)((null===t||void 0===t?void 0:t.description)||""),z=Object(r.a)(H,2),U=z[0],V=z[1],L=Object(c.useState)((null===t||void 0===t?void 0:t.agency)?{value:t.agency.id,label:t.agency.name}:_),T=Object(r.a)(L,2),q=T[0],B=T[1],R=Object(c.useState)(t?{from:+new Date(t.from)+-1*(new Date).getTimezoneOffset()*6e4,to:+new Date(t.to)+-1*(new Date).getTimezoneOffset()*6e4}:{from:+new Date(C).setUTCMinutes(0,0,0),to:+new Date(C).setUTCMinutes(60,0,0)}),A=Object(r.a)(R,2),J=A[0],G=A[1],K=Object(m.e)((null===t||void 0===t?void 0:t.type)!==d.a.rest),Q=Object(r.a)(K,2),W=Q[0],X=Q[1];Object(m.b)((function(){s.a.getAgencies(void 0,10).then((function(e){var t=e.data;F(t.map((function(e){return{value:e.id,label:e.name}})))})).catch(console.error)}));var Y=Object(c.useMemo)((function(){for(var e=new Date(u).setUTCHours(0,0,0,0),t=new Date(u).setUTCHours(24,0,0,0),n=[],a=e;a<t;){var l=new Date(a).toLocaleString("en-US",{hour:"2-digit",minute:"2-digit",hour12:true,timeZone:"UTC"});n.push({value:a,label:l}),a+=g}return n.push({value:t,label:"Midnight"}),n}),[]),$=function(e,t){if(J[t]!==e){G((function(n){return function(t,n){return"to"===n?Object(l.a)(Object(l.a)({},t),{},{to:e}):e>=t.to?{from:e,to:e+g}:Object(l.a)(Object(l.a)({},t),{},{from:e})}(n,t)}))}},ee=function(e,t){return e.find((function(e){return e.value===t}))},te=function(e){return Object(O.jsx)("div",Object(l.a)(Object(l.a)({},e.innerProps),{},{className:"time-select__indicator time-select__dropdown-indicator",children:Object(O.jsx)(f.a,{})}))};return Object(O.jsxs)("div",{className:"event-modal modal-wrap",children:[Object(O.jsx)("h2",{className:"event-modal__title",children:"Add Event"}),Object(O.jsxs)("div",{className:"event-modal__date",children:[Object(O.jsx)(j.a,{className:"event-modal__date-icon"}),Object(O.jsx)("span",{children:new Date(u).toLocaleString("en-GB",{year:"numeric",month:"long",weekday:"short",day:"numeric"})})]}),Object(O.jsxs)("div",{className:"event-modal__field event-modal__field--event-time",children:[Object(O.jsxs)("div",{className:"event-modal__event-time-wrap",children:[Object(O.jsxs)("div",{className:"event-modal__event-time",children:[Object(O.jsx)("label",{className:"label label--required",children:"Start at"}),Object(O.jsx)(o.a,{isSearchable:!1,options:Y.slice(0,Y.length-1),defaultValue:Y[8],maxMenuHeight:200,value:ee(Y,J.from),onChange:function(e){return e&&$(e.value,"from")},components:{IndicatorSeparator:null,DropdownIndicator:te},className:"time-select",classNamePrefix:"time-select"})]}),Object(O.jsxs)("div",{className:"event-modal__event-time",children:[Object(O.jsx)("label",{className:"label label--required",children:"Ends at"}),Object(O.jsx)(o.a,{isSearchable:!1,options:Y.slice(1),defaultValue:Y[17],maxMenuHeight:200,value:ee(Y,J.to),isOptionDisabled:function(e){return function(e){var t=e.value,n=e.label;return J.from>=t&&"24:00"!==n}(e)},onChange:function(e){return e&&$(e.value,"to")},components:{IndicatorSeparator:null,DropdownIndicator:te},className:"time-select",classNamePrefix:"time-select"})]})]}),(S.start||S.end)&&Object(O.jsx)("div",{className:"event-modal__error-wrap",children:Object(O.jsx)("div",{className:"event-modal__error event-modal__error--event-time",children:S.start?S.start:S.end})})]}),Object(O.jsxs)("div",{className:"event-modal__field event-modal__field--unavailable",children:[Object(O.jsx)("span",{children:"Unavailable"}),Object(O.jsx)(p.a,{name:"unavailable",active:!W,onToggle:X})]}),Object(O.jsxs)("div",{className:"event-modal__field event-modal__field--agency",children:[Object(O.jsx)("label",{className:"label label--optional",children:"Choose agency"}),Object(O.jsx)(o.a,{value:q,defaultValue:_,maxMenuHeight:200,options:[_].concat(Object(a.a)(Z)),onChange:function(e){return e&&B(e)},components:{IndicatorSeparator:null},className:"agency-select",classNamePrefix:"agency-select"})]}),Object(O.jsxs)("div",{className:"event-modal__field event-modal__field--description",children:[Object(O.jsx)("label",{className:"label label--optional",children:"Description"}),Object(O.jsx)("textarea",{className:"event-modal__textarea textarea input",rows:6,value:U,onChange:function(e){return V(e.target.value)}})]}),S.general&&Object(O.jsx)("div",{className:"event-modal__error-wrap",children:Object(O.jsx)("div",{className:"event-modal__error event-modal__error--general",children:S.general})}),Object(O.jsxs)("div",{className:"event-modal__btns",children:[t&&Object(O.jsx)("button",{type:"button",className:"event-modal__delete-btn",onClick:function(){w(v.a.deleteEventModal,{eventId:t.id,closeEventModal:N})},children:Object(O.jsx)(b.a,{className:"event-modal__delete-icon"})}),Object(O.jsx)("button",{type:"button",className:"event-modal__cancel-btn btn btn--cancel",onClick:function(){!e.pending&&e.closeModal()},children:"Cancel"}),Object(O.jsx)(h.a,{type:"button",className:"event-modal__save-btn btn btn--success",spinnerSize:"18px",onClick:function(){var e={id:i?t.id:null,end:J.to,start:J.from,type:W?"work":"rest",agencyId:q.value,description:U};return E(!0),i?s.a.addEvent(e,"update").then((function(e){var t=e.data;y(t.event,t.date),N()})).catch((function(e){k(e.response.data),console.error(e)})).finally((function(){return E(!1)})):s.a.addEvent(e).then((function(e){var t=e.data;x(t.event,t.date),N()})).catch((function(e){k(e.response.data),console.error(e)})).finally((function(){return E(!1)}))},pending:n,children:"Save"})]})]})}))}}]);
//# sourceMappingURL=EventModalChunk.10999f23.chunk.js.map
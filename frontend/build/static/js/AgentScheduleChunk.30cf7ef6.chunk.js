(this["webpackJsonpstart-react-typescript"]=this["webpackJsonpstart-react-typescript"]||[]).push([[4],{124:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(0);function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function c(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var l=r.createElement("defs",null),i=r.createElement("path",{d:"M12 19.2a7.2 7.2 0 100-14.4 7.2 7.2 0 000 14.4zm0-12.96a5.76 5.76 0 110 11.52 5.76 5.76 0 010-11.52z"}),s=r.createElement("path",{d:"M11.52 13.2h3.12v-1.44h-2.4V8.88H10.8v3.6a.72.72 0 00.72.72z"});function o(e,t){var n=e.title,o=e.titleId,u=c(e,["title","titleId"]);return r.createElement("svg",a({xmlns:"http://www.w3.org/2000/svg",fill:"#000",viewBox:"4.8 4.8 14.4 14.4",ref:t,"aria-labelledby":o},u),n?r.createElement("title",{id:o},n):null,l,i,s)}var u=r.forwardRef(o);n.p},126:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(0);function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function c(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var l=r.createElement("path",{d:"M5.43413 5.4491L1.06287 9.82036C0.80838 10.0599 0.419158 10.0599 0.179637 9.82036C-0.059884 9.58084 -0.059884 9.19162 0.179637 8.93713L4.11676 5L0.179638 1.06287C-0.0598833 0.823353 -0.0598832 0.419161 0.179638 0.17964C0.419159 -0.0598807 0.808381 -0.0598807 1.06287 0.17964L5.43413 4.56587C5.67365 4.80539 5.67365 5.19461 5.43413 5.4491Z"});function i(e,t){var n=e.title,i=e.titleId,s=c(e,["title","titleId"]);return r.createElement("svg",a({viewBox:"0 0 6 10",fill:"#000000",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":i},s),n?r.createElement("title",{id:i},n):null,l)}var s=r.forwardRef(i);n.p},127:function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));var r=n(0);function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function c(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var l=r.createElement("path",{d:"M2.15999 11.7597H9.83999C10.3492 11.7597 10.8376 11.5575 11.1976 11.1974C11.5577 10.8373 11.76 10.349 11.76 9.83975V2.15975C11.76 1.65053 11.5577 1.16217 11.1976 0.802101C10.8376 0.442031 10.3492 0.239746 9.83999 0.239746H2.15999C1.65077 0.239746 1.16242 0.442031 0.802345 0.802101C0.442275 1.16217 0.23999 1.65053 0.23999 2.15975V9.83975C0.23999 10.349 0.442275 10.8373 0.802345 11.1974C1.16242 11.5575 1.65077 11.7597 2.15999 11.7597ZM9.83999 10.7997H2.15999C1.90538 10.7997 1.6612 10.6986 1.48117 10.5186C1.30113 10.3385 1.19999 10.0944 1.19999 9.83975V4.07975H10.8V9.83975C10.8 10.0944 10.6988 10.3385 10.5188 10.5186C10.3388 10.6986 10.0946 10.7997 9.83999 10.7997ZM2.15999 1.19975H9.83999C10.0946 1.19975 10.3388 1.30089 10.5188 1.48092C10.6988 1.66096 10.8 1.90514 10.8 2.15975V3.11975H1.19999V2.15975C1.19999 1.90514 1.30113 1.66096 1.48117 1.48092C1.6612 1.30089 1.90538 1.19975 2.15999 1.19975Z",fill:"#201D9F"}),i=r.createElement("path",{d:"M3.12002 7.91995C3.38511 7.91995 3.60002 7.70505 3.60002 7.43996C3.60002 7.17486 3.38511 6.95996 3.12002 6.95996C2.85492 6.95996 2.64001 7.17486 2.64001 7.43996C2.64001 7.70505 2.85492 7.91995 3.12002 7.91995Z",fill:"#201D9F"}),s=r.createElement("path",{d:"M3.12002 9.83988C3.38511 9.83988 3.60002 9.62498 3.60002 9.35988C3.60002 9.09479 3.38511 8.87988 3.12002 8.87988C2.85492 8.87988 2.64001 9.09479 2.64001 9.35988C2.64001 9.62498 2.85492 9.83988 3.12002 9.83988Z",fill:"#201D9F"}),o=r.createElement("path",{d:"M5.04 7.91995C5.3051 7.91995 5.52 7.70505 5.52 7.43996C5.52 7.17486 5.3051 6.95996 5.04 6.95996C4.7749 6.95996 4.56 7.17486 4.56 7.43996C4.56 7.70505 4.7749 7.91995 5.04 7.91995Z",fill:"#201D9F"}),u=r.createElement("path",{d:"M5.04 9.83988C5.3051 9.83988 5.52 9.62498 5.52 9.35988C5.52 9.09479 5.3051 8.87988 5.04 8.87988C4.7749 8.87988 4.56 9.09479 4.56 9.35988C4.56 9.62498 4.7749 9.83988 5.04 9.83988Z",fill:"#201D9F"}),d=r.createElement("path",{d:"M6.95998 7.91995C7.22508 7.91995 7.43998 7.70505 7.43998 7.43996C7.43998 7.17486 7.22508 6.95996 6.95998 6.95996C6.69488 6.95996 6.47998 7.17486 6.47998 7.43996C6.47998 7.70505 6.69488 7.91995 6.95998 7.91995Z",fill:"#201D9F"}),f=r.createElement("path",{d:"M6.95998 9.83988C7.22508 9.83988 7.43998 9.62498 7.43998 9.35988C7.43998 9.09479 7.22508 8.87988 6.95998 8.87988C6.69488 8.87988 6.47998 9.09479 6.47998 9.35988C6.47998 9.62498 6.69488 9.83988 6.95998 9.83988Z",fill:"#201D9F"}),b=r.createElement("path",{d:"M8.88003 7.91995C9.14513 7.91995 9.36003 7.70505 9.36003 7.43996C9.36003 7.17486 9.14513 6.95996 8.88003 6.95996C8.61493 6.95996 8.40002 7.17486 8.40002 7.43996C8.40002 7.70505 8.61493 7.91995 8.88003 7.91995Z",fill:"#201D9F"}),j=r.createElement("path",{d:"M5.04 6.00004C5.3051 6.00004 5.52 5.78513 5.52 5.52004C5.52 5.25494 5.3051 5.04004 5.04 5.04004C4.7749 5.04004 4.56 5.25494 4.56 5.52004C4.56 5.78513 4.7749 6.00004 5.04 6.00004Z",fill:"#201D9F"}),v=r.createElement("path",{d:"M6.95998 6.00004C7.22508 6.00004 7.43998 5.78513 7.43998 5.52004C7.43998 5.25494 7.22508 5.04004 6.95998 5.04004C6.69488 5.04004 6.47998 5.25494 6.47998 5.52004C6.47998 5.78513 6.69488 6.00004 6.95998 6.00004Z",fill:"#201D9F"}),h=r.createElement("path",{d:"M8.88003 6.00004C9.14513 6.00004 9.36003 5.78513 9.36003 5.52004C9.36003 5.25494 9.14513 5.04004 8.88003 5.04004C8.61493 5.04004 8.40002 5.25494 8.40002 5.52004C8.40002 5.78513 8.61493 6.00004 8.88003 6.00004Z",fill:"#201D9F"});function m(e,t){var n=e.title,m=e.titleId,O=c(e,["title","titleId"]);return r.createElement("svg",a({width:12,height:12,viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":m},O),n?r.createElement("title",{id:m},n):null,l,i,s,o,u,d,f,b,j,v,h)}var O=r.forwardRef(m);n.p},131:function(e,t,n){"use strict";n(132);var r=n(1);t.a=function(e){var t=e.name,n=e.active,a=e.title,c=e.isDisabled,l=e.onToggle,i=function(e){return"".concat(e,"--").concat(n?"true":"false")},s=String(1e3*Math.random());return Object(r.jsxs)("label",{className:"toggle",htmlFor:s,children:[a&&Object(r.jsx)("span",{className:"toggle__title",children:a}),Object(r.jsx)("input",{type:"checkbox",name:t,id:s,className:"toggle__checkbox",checked:n,onChange:l,disabled:c}),Object(r.jsx)("div",{className:"toggle__main ".concat(i("toggle__main")),children:Object(r.jsx)("div",{className:"toggle__indicator ".concat(i("toggle__indicator"))})})]})}},132:function(e,t,n){},133:function(e,t,n){"use strict";var r=n(2),a=n(3),c=n(0),l=n(144),i=(n(134),n(126)),s=n(1),o="Today",u="Yesterday",d="Tomorrow",f=[u,o,d];t.a=function(e){var t=e.date,n=e.onChange,b=e.containerForAutoPositionRef,j=864e5,v=new Date,h=new Date(v).setHours(0,0,0,0)+-1*v.getTimezoneOffset()*6e4,m=Object(c.useState)(null),O=Object(a.a)(m,2),p=O[0],g=O[1];Object(c.useEffect)((function(){t===h?g(o):t===h-j?g(u):t===h+j&&g(d)}),[t]);return Object(s.jsxs)("div",{className:"calendar",style:Object(r.a)({},function(){if(null===b||void 0===b?void 0:b.current)return{left:b.current.getBoundingClientRect().width/2-135+"px"}}()),children:[Object(s.jsx)("ul",{className:"calendar__shortcuts",children:f.map((function(e){return Object(s.jsx)("li",{onClick:function(){return function(e){switch(e){case o:n(h);break;case u:n(h-j);break;case d:n(h+j)}}(e)},className:(t=e,p===t?"calendar__shortcut calendar__shortcut--active":"calendar__shortcut"),children:e},e);var t}))}),Object(s.jsx)(l.a,{locale:"en-En",minDetail:"month",value:new Date(t),onChange:function(e){if(e instanceof Date){var t=new Date(e).setHours(0,0,0,0)+-1*e.getTimezoneOffset()*6e4;n(+t)}},prev2Label:null,next2Label:null,prevLabel:Object(s.jsx)(i.a,{}),nextLabel:Object(s.jsx)(i.a,{}),formatShortWeekday:function(e,t){return new Date(t).toLocaleString(e,{weekday:"short"}).slice(0,2)}})]})}},134:function(e,t,n){},135:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(0);function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function c(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var l=r.createElement("path",{d:"M4 0a.889.889 0 00-.889.889V3.11H.89a.889.889 0 000 1.778H3.11V7.11a.889.889 0 001.778 0V4.89H7.11a.889.889 0 000-1.778H4.89V.89A.889.889 0 004 0z"});function i(e,t){var n=e.title,i=e.titleId,s=c(e,["title","titleId"]);return r.createElement("svg",a({viewBox:"0 0 8 8",fill:"#000",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":i},s),n?r.createElement("title",{id:i},n):null,l)}var s=r.forwardRef(i);n.p},136:function(e,t,n){},137:function(e,t,n){"use strict";var r=n(0),a=(n(138),n(1));t.a=function(e){var t=e.dropWrapperRef,n=e.closeDropWrapper;return Object(r.useEffect)((function(){var e=function(e){var r;!(null===(r=t.current)||void 0===r?void 0:r.contains(e.target))&&n(!1)},r=function(e){if("Escape"===e.key)return n(!1)};return document.addEventListener("mousedown",e),document.addEventListener("keyup",r),function(){document.removeEventListener("mousedown",e),document.removeEventListener("keyup",r)}}),[]),Object(a.jsx)("div",{className:e.className,ref:t,children:e.children})}},138:function(e,t,n){},139:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(19),a=n(10),c=n(15),l=(n(136),n(44)),i=n(0);function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function o(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var u=i.createElement("path",{d:"M2.1 9.89l-.12.11-1.12 5.14L6 14.02l9.14-9.14L11.12.86 2.1 9.9zm1.14.38L9.2 4.31 11.7 6.8l-5.96 5.96-2.5-2.49zm-.45 1.08l1.86 1.85-2.37.52.51-2.37zm9.66-5.31l-2.49-2.5 1.16-1.15 2.49 2.49-1.16 1.16z"});function d(e,t){var n=e.title,r=e.titleId,a=o(e,["title","titleId"]);return i.createElement("svg",s({fill:"#000",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},a),n?i.createElement("title",{id:r},n):null,u)}var f,b=i.forwardRef(d),j=(n.p,n(1));!function(e){e[e.work=1]="work",e[e.rest=2]="rest",e[e.request=3]="request"}(f||(f={}));t.b=function(e){var t,n,i=e.item,s=e.filterDate,o=Object(r.c)(),u=function(e){var t=[],n=36e5,r=Math.trunc(e/n);r>0&&(t.push(r+"h"),e-=r*n);var a=Math.trunc(e/6e4);return a>0&&t.push(a+" min"),t.join(" ")}(+new Date(i.to)-+new Date(i.from));return Object(j.jsxs)("div",{className:Object(c.b)("event",[i.type===f.request&&"request",i.type===f.rest&&"unavailable"]),children:[i.type===f.rest?Object(j.jsx)("p",{children:"Unavailable"}):Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("div",{className:"event__avatar",children:Object(j.jsx)(l.a,{src:Object(c.c)(i.agency||{img:null,type:2})})}),Object(j.jsxs)("div",{className:"event__info",children:[i.agency&&Object(j.jsx)("div",{className:"event__name",children:i.agency.name}),Object(j.jsx)("div",{className:"event__time",children:(t=i.from,n=i.to,new Date(t).toLocaleString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0}).toLowerCase()+" - "+new Date(n).toLocaleString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0}).toLowerCase())})]})]}),Object(j.jsx)("button",{className:"event__edit-btn",type:"button",onClick:function(){o(Object(a.d)(a.a.eventModal,{filterDate:s,event:i,isEditMode:!0}))},children:Object(j.jsx)(b,{})}),Object(j.jsx)("span",{className:"event__duration",children:u})]})}},153:function(e,t,n){},155:function(e,t,n){},202:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n(3),c=n(19),l=n(7),i=n(45),s=(n(153),n(124)),o=n(126),u=n(127),d=n(131),f=n(20),b=n(133),j=n(15),v=n(10),h=(n(155),n(135)),m=n(139),O=n(1),p=9e5,g=function(e){var t=e.filterDate,n=e.events,l=e.workTime,i=Object(c.c)(),s=Object(r.useState)([]),o=Object(a.a)(s,2),u=o[0],d=o[1];Object(r.useEffect)((function(){if(n&&l){for(var e=[],t=l.from;t<=l.to;)e.push(t),t+=p;var r=0,a=[];e.forEach((function(e){var t=!1,c=n.find((function(t){return+new Date(t.from)+-1*(new Date).getTimezoneOffset()*6e4===e}));if(r>0&&(t=!0,r-=1),c){var l=(+new Date(c.to)-+new Date(c.from))/p;r=l-1,a.push({time:e,skip:!1,data:{cellsCount:l,event:c}})}else a.push({time:e,skip:t,data:null})})),d(a)}}),[l,n]);return u?Object(O.jsx)("div",{className:"schedule",children:Object(O.jsxs)("div",{className:"schedule__grid",children:[Object(O.jsx)("div",{className:"schedule__time-list",children:u.map((function(e){var t=new Date(e.time).toLocaleString("en-US",{timeZone:"UTC",hour:"2-digit",minute:"2-digit",hour12:true}).toLowerCase();return Object(O.jsx)("div",{className:"schedule__time-cell",children:Object(O.jsxs)("span",{className:Object(j.b)("schedule__time",e.data?"event-start":""),children:[Object(O.jsx)("span",{children:t.slice(0,5)})," ",t.slice(6)]})},e.time)}))}),Object(O.jsx)("div",{className:"schedule__events",style:{gridTemplateRows:"repeat(".concat(u.length,", 45px)")},children:u.map((function(e,n,r){var a=n===r.length-1;return Object(O.jsx)("div",{className:Object(j.b)("schedule__event-cell",e.data?"event":""),style:{display:e.skip?"none":"block",gridRowEnd:e.data?"span ".concat(e.data.cellsCount):void 0},children:e.data?Object(O.jsx)(m.b,{item:e.data.event,filterDate:t}):a?null:Object(O.jsx)("button",{type:"button",className:"schedule__add-event",onClick:function(){return i(Object(v.d)(v.a.eventModal,{filterDate:t,selectedData:e.time}))},children:Object(O.jsx)("div",{className:"schedule__add-event-icon",children:Object(O.jsx)(h.a,{})})})},e.time)}))})]})}):null},w=n(137),x=n(13),y=864e5,_={getAgentSchedule:i.d},C=Object(c.b)((function(e){return{events:e.agentSchedule.events,is_available:e.user.user.is_available,pending:e.agentSchedule.pending,workTime:e.agentSchedule.workTime}}),_)((function(e){var t=e.pending,n=e.events,c=e.workTime,i=e.is_available,j=e.getAgentSchedule,v=new Date,h=new Date(v).setHours(0,0,0,0)+-1*v.getTimezoneOffset()*6e4,m=Object(r.useState)(h),p=Object(a.a)(m,2),_=p[0],C=p[1],E=Object(r.useState)((new Date).toLocaleString("en-GB",{hour:"2-digit",minute:"2-digit",hour12:true})),D=Object(a.a)(E,2),k=D[0],N=D[1],S=Object(l.e)(i),L=Object(a.a)(S,2),M=L[0],I=L[1],P=Object(l.e)(!1),F=Object(a.a)(P,2),R=F[0],T=F[1],Z=Object(r.useRef)(null),H=Object(r.useRef)(null);Object(l.b)((function(){j(h)})),Object(l.c)((function(){j(_)}),[_]),Object(l.c)((function(){x.a.changeWorkingStatus(M?1:0).catch(console.error)}),[M]),Object(r.useEffect)((function(){var e=setInterval((function(){var e=(new Date).toLocaleString("en-GB",{hour:"2-digit",minute:"2-digit",hour12:true});N(e)}),15e3);return function(){return clearInterval(e)}}),[]);return console.log("AgentSchedule render"),Object(O.jsxs)("div",{className:"agent-schedule",children:[Object(O.jsxs)("div",{className:"agent-schedule__sticky-container",children:[Object(O.jsx)("h2",{className:"agent-schedule__title",children:"Schedule"}),Object(O.jsxs)("div",{className:"agent-schedule__date date-nav",children:[Object(O.jsx)("button",{className:"date-nav__nav-btn date-nav__nav-btn--prev",type:"button",onClick:function(){return C((function(e){return e-y}))},children:Object(O.jsx)(o.a,{})}),Object(O.jsxs)("div",{className:"date-nav__date",ref:Z,children:[Object(O.jsxs)("button",{type:"button",className:"date-nav__date-btn",onMouseDown:T,children:[Object(O.jsx)(u.a,{className:"date-nav__icon"}),Object(O.jsx)("span",{children:new Date(_).toLocaleString("en-GB",{year:"numeric",month:"long",weekday:"short",day:"numeric"})})]}),R&&Object(O.jsx)(w.a,{dropWrapperRef:H,closeDropWrapper:T,children:Object(O.jsx)(b.a,{containerForAutoPositionRef:Z,date:_,onChange:function(e){C(e),T(!1)}})})]}),Object(O.jsx)("button",{className:"date-nav__nav-btn date-nav__nav-btn--next",type:"button",onClick:function(){return C((function(e){return e+y}))},children:Object(O.jsx)(o.a,{})})]}),Object(O.jsxs)("div",{className:"agent-schedule__time",children:[Object(O.jsx)(s.a,{}),Object(O.jsx)("span",{children:k})]})]}),Object(O.jsxs)("div",{className:"agent-schedule__work-status",children:[Object(O.jsx)("span",{children:"I'm working today"}),Object(O.jsx)(d.a,{name:"work",active:M,onToggle:I})]}),Object(O.jsx)("div",{className:"agent-schedule__main",children:t?Object(O.jsx)("div",{className:"agent-schedule__spinner",children:Object(O.jsx)(f.a,{size:"100px"})}):Object(O.jsx)(g,{filterDate:_,events:n,workTime:c})})]})}));t.default=function(){return console.log("Schedule Render"),Object(O.jsx)(C,{})}}}]);
//# sourceMappingURL=AgentScheduleChunk.30cf7ef6.chunk.js.map
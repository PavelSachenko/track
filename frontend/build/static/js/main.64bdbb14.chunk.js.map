{"version":3,"sources":["utils/handleNetError.ts","services/axiosInstance.ts","config/constants.ts","hooks/useDidMount.ts","hooks/useDidUpdate.ts","hooks/useWillUnmount.ts","hooks/usePrevious.ts","hooks/useDebounce.ts","hooks/useToggle.ts","redux/ducks/activeWindows.ts","api/api.ts","utils/debounce.ts","icons/agency-avatar.svg","utils/getContactAvatar.ts","utils/normalize.ts","utils/addToEntitiesIfMissing.ts","utils/validateFormValues.ts","components/FormTextInput.tsx","components/Spinner/Spinner.tsx","redux/ducks/agents.ts","components/AsyncBtn/AsyncBtn.tsx","redux/ducks/agencies.ts","redux/ducks/notifications.ts","utils/classModifier.ts","components/ReturnBtn/ReturnBtn.tsx","utils/throttle.js","components/DelayedComponent/DelayedComponent.tsx","icons/agent-avatar.svg","components/LazyLoadImage/LazyLoadImage.tsx","redux/ducks/agentSchedule.ts","icons/trash.svg","icons/arrow.svg","components/FormTextarea.tsx","components/ImgCropper/ImgCropperUtils.tsx","components/Slider/Slider.tsx","components/ImgCropper/ImgCropper.tsx","redux/ducks/user.ts","redux/rootReducer.ts","redux/store.ts","serviceWorker.ts","icons/error-404.svg","pages/NotFoundPage/NotFoundPage.tsx","icons/server-error.svg","pages/ServerErrorPage/ServerErrorPage.tsx","components/PrivateRoute.tsx","components/Loadable.tsx","components/GlobalPreloader/GlobalPreloader.tsx","api/auth-api.ts","pages/AuthPage/AuthPage.tsx","pages/AuthPage/LoginPage/LoginPage.tsx","icons/agent.svg","icons/agency.svg","icons/camera.svg","icons/plus.svg","components/EmailForm.tsx","components/FormWizard/FormWizard.tsx","pages/AuthPage/RegisterPage/RegisterPage.tsx","pages/AuthPage/RecoveryPage/RecoveryPasswordForm.tsx","pages/AuthPage/RecoveryPage/RecoveryPage.tsx","pages/InvitationPage/InvitationPage.tsx","components/Modal/Modal.tsx","containers/Modals/Modals.tsx","config/socket-config.ts","components/Socket.tsx","App.tsx","index.tsx"],"names":["handleNetError","error","console","log","response","status","window","location","href","ROUTES","serverError","currentHostname","hostname","API_ROOT","process","REACT_APP_BACKEND_HOST","axiosInstance","axios","create","baseURL","interceptors","request","use","config","token","localStorage","getItem","url","includes","headers","Authorization","Promise","reject","resolve","err","data","code","message","Object","freeze","auth","login","register","recovery","notFound","main","schedule","notifications","settings","settingsGeneral","settingsSchedule","settingsSecurity","invitation","invites","LIST_SPINNER_SIZE","useDidMount","fn","useEffect","useDidUpdate","f","dependencies","didMountRef","useRef","current","useWillUnmount","usePrevious","value","ref","useDebounce","ms","args","handle","setTimeout","bind","clearTimeout","useToggle","initialValue","useState","setValue","useCallback","nextValue","currentValue","OPEN_MODAL","CLOSE_MODAL","MODAL_TYPES","successRegisterModal","successPasswordChangeModal","successPasswordRecoveryModal","agentModal","inviteMemberModal","invitationInstructionsModal","deleteAgentModal","deleteInviteModal","deleteAccountModal","declineInviteModal","eventModal","deleteEventModal","openModal","type","props","dispatch","payload","closeModal","modalType","initialState","activeModals","activeModalsEntities","activeWindowsReducer","state","newModal","updatedActiveModals","updatedEntities","lastIndex","length","removedIndex","findIndex","modal","splice","API","logoutUser","post","getUser","get","getAgencies","offset","limit","apiConfig","params","getAgenciesCount","updateUser","user","User","FormData","set","name","phone","description","img","deleteUser","delete","changePassword","values","Password","oldPassword","newPassword","getAgents","search","filterStatus","getInvites","getInvitesCount","sendInvite","email","Invite","unsubscribeAgent","getNotificationsCount","getNotifications","acceptNotification","Token","declineNotification","deleteInvite","id","getWokTime","setWorkTime","WorkTime","mode","JSON","stringify","times","getAgentSchedule","date","addEvent","action","WorkRecord","end","start","agencyId","deleteEvent","eventId","changeWorkingStatus","WorkingStatus","getContactAvatar","client","defaultAvatar","AgentAvatar","AgencyAvatar","normalize","key","entities","ids","map","dataItem","addToEntitiesIfMissing","newEntities","uniqueEntities","Array","isArray","forEach","item","itemKey","isInEntities","emailRegExp","validateFormValues","isEmpty","trim","isEmail","test","FormTextInput","input","autoFocus","autoComplete","disabled","className","placeholder","serverErrors","inputRef","meta","touched","active","submitFailed","validating","dirty","errorInputClass","asyncValidation","errorClass","size","spinnerClass","Spinner","style","width","height","GET_AGENTS","UPDATE_AGENTS","ADD_AGENT","DELETE_AGENT","FILTER_AGENTS","UPDATE_FILTERED_AGENTS","UPDATE_SEARCH","UPDATE_STATUS_FILTER","GET_INVITES","UPDATE_INVITES","ADD_INVITE","DELETE_INVITE","GET_INVITES_COUNT","then","catch","filterAgents","updateSearch","query","updateStatusFilter","statusFilter","addAgent","agent","deleteAgent","addInvite","invite","pending","auxiliaryIds","inviteIds","inviteEntities","invitesCount","agenciesReducer","deletedInviteId","find","undefined","filter","isFilter","updatedIds","AsyncBtn","spinnerSize","onClick","pendingFromProps","setPending","prevPendingFromProps","isUnmount","children","GET_AGENCIES","UPDATE_AGENCIES","ADD_AGENCY","DELETE_AGENCY","GET_AGENCIES_COUNT","addAgency","agency","deleteAgency","count","GET_NOTIFICATIONS_COUNT","REDUCE_NOTIFICATIONS_COUNT","GET_NOTIFICATIONS","UPDATE_NOTIFICATIONS","REMOVE_NOTIFICATIONS","ADD_NOTIFICATION","reduceNotificationsCount","addNotification","notification","removeNotifications","isReduceCount","newIds","notificationsReducer","mainClass","modifier","result","ReturnBtn","text","route","to","throttle","func","disableLastCall","savedArgs","savedThis","isThrottled","wrapper","arguments","this","apply","DelayedComponent","isMount","shouldRender","setShouldRender","prevIsMount","timer","delayUnmountTime","LazyLoadImage","imageLoaded","setState","classPrefix","spinnerClassName","src","alt","onLoad","onError","title","GET_AGENT_SCHEDULE","ADD_EVENT","UPDATE_EVENT","DELETE_EVENT","SET_PENDING_TRUE","event","workTime","updateEvent","events","agentScheduleReducer","_extends","assign","target","i","source","prototype","hasOwnProperty","call","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","_ref2","_ref3","d","SvgTrash","_ref","svgRef","titleId","xmlns","fill","viewBox","ForwardRef","SvgArrow","FormTextTextarea","textareaRef","scrollHeight","rows","createImage","image","Image","addEventListener","setAttribute","getRadianAngle","degreeValue","Math","PI","getCroppedImg","imageSrc","pixelCrop","a","rotation","canvas","document","createElement","ctx","getContext","maxSize","max","safeArea","sqrt","translate","rotate","drawImage","getImageData","putImageData","round","x","y","toBlob","file","Slider","onUpdate","countOfSteps","currentStep","setCurrentStep","countInStep","setCountInStep","isActive","setIsActive","sliderRef","thumbRef","onMouseUp","removeEventListener","onMouseMove","e","throttledUpdateThumbCoords","clientX","onTouchEnd","onTouchMove","touches","updateThumbCoords","sliderWidth","getBoundingClientRect","thumbWidth","rightEdge","currentLeft","left","shiftX","sizeOfStep","newCurrentStepInPercentage","newCurrentStepInSeconds","getLeftOffsetFor","forWhat","leftInPercentage","offsetWidth","substractWidth","onMouseDown","onTouchStart","ImgCropper","onCrop","onCancel","aspect","cropShape","showCancelButton","crop","setCrop","zoom","setZoom","croppedAreaPixels","setCroppedAreaPixels","onCropComplete","_croppedArea","pixels","onCropHandler","croppedImage","onCropChange","zoomWithScroll","classes","mediaClassName","z","SET_TOKEN","SET_USER","authToken","userReducer","rootReducer","combineReducers","activeWindows","agencies","agents","agentsReducer","agentSchedule","middlewares","thunk","logger","store","createStore","composeWithDevTools","applyMiddleware","Boolean","match","_ref5","_ref6","stroke","strokeLinecap","strokeLinejoin","strokeWidth","_ref7","strokeMiterlimit","_ref8","_ref9","_ref10","_ref11","_ref12","_ref13","_ref14","_ref15","_ref16","SvgError404","NotFoundPage","clipPath","SvgServerError","NotFound","PrivateRoute","Component","component","isAuthenticated","path","element","redirectLink","MainPage","lazy","SuccessRegisterModal","Agencies","Agents","AgentSchedule","Notifications","Invites","Loadable","Settings","SettingsGeneral","SettingsSchedule","SettingsSecurity","SuccessPasswordChangeModal","SuccessPasswordRecoveryModal","AgentModal","InviteMemberModal","InvitationInstructionsModal","DeleteAgentModal","DeleteInviteModal","DeleteAccountModal","DeclineInviteModal","EventModal","DeleteEventModal","GlobalPreloader","AUTH_API","Credentials","password","NewUser","registerToken","password_confirmation","sendEmailForRegister","isRegisterTokenValid","resetPassword","isResetTokenValid","sendEmailToResetPassword","isInvitationTokenValid","AuthPage","classModifier","isTextAutoHeight","validate","errors","LoginPage","useLocation","firstInputRef","setServerErrors","focus","onSubmit","res","invitationToken","URLSearchParams","handleSubmit","submitting","SvgAgent","SvgAgency","SvgCamera","SvgPlus","EmailForm","linkText","FormWizard","page","setPage","onPrevPage","newPage","activePage","React","Children","toArray","isLastPage","initialValues","setSubmitPending","min","onNextPage","submitPending","Page","displayName","pageTitles","100","200","0","1","2","validatePasswords","validateMainInfo","RegisterPage","navigate","useNavigate","imageInputRef","pagePending","setPagePending","setRegisterToken","setEmail","userType","setUserType","isAvaCropPage","setIsAvaCropPage","cropperPhotoUrl","setCropperPhotoUrl","avatarPhoto","setAvatarPhoto","prevAvatarPhotoUrl","finally","URL","revokeObjectURL","sendEmailToRegister","registerUser","deletePhoto","confirm","triggerImageSelectPopup","click","onSelectImage","files","reader","FileReader","onloadend","startsWith","setPhotoHandler","readAsDataURL","createObjectURL","render","onChange","accept","display","RecoveryPasswordForm","recoveryToken","useDispatch","3","RecoveryPage","setRecoveryToken","resetToken","InvitationPage","Modal","onClose","isCloseOutside","setMount","closeModalOnKeyup","currentTarget","components","mapDispatchToProps","connect","body","overflow","removeAttribute","modalsRoot","getElementById","ReactDOM","createPortal","fallback","renderComponent","SOCKET_ROOT","protocol","Socket","ws","WebSocket","setupSocket","webSocket","onopen","send","onclose","onerror","onmessage","parse","subscription","setUser","close","initApp","ConnectedPrivateRoutes","isAgent","setIsAgent","App","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.64bdbb14.chunk.js","sourcesContent":["import { AxiosError } from 'axios';\n\nimport { ROUTES } from '../config/constants';\n\nconst handleNetError = (error: AxiosError) => {\n  console.log('handleNetError', error.response);\n\n  if (!error.response) {\n    console.error('Unhandled error', error);\n    return;\n  }\n\n  switch (error.response.status) {\n    case 500:\n      window.location.href = ROUTES.serverError;\n      console.log('Server Error!');\n      break;\n      \n    default:\n      console.error('Unhandled error', error);\n      break;\n  }\n};\n\nexport default handleNetError;\n","import axios from 'axios';\n\nimport handleNetError from '../utils/handleNetError';\n\nconst protocol = 'https://';\nconst currentHostname = window && window.location && window.location.hostname;\n\nlet backendHostname;\n\nif (currentHostname === 'localhost') {\n  backendHostname = 'api.track-agent.agency';\n}\nelse if (currentHostname === '192.168.1.128') {\n    backendHostname = 'api.track-agent.agency';\n}\nelse if (currentHostname === 'app.track-agent.agency') {\n    backendHostname = 'api.track-agent.agency';\n}\nelse if (currentHostname === 'app.gencytrack.me') {\n  backendHostname = 'api.gencytrack.me';\n}\nelse if (currentHostname && currentHostname !== 'chromewebdata') {\n  backendHostname = currentHostname;\n}\nelse {\n  backendHostname = process.env.REACT_APP_BACKEND_HOST || 'unknownhosterror';\n}\n\nexport const API_ROOT = protocol + backendHostname + '/api/';\n\nconst axiosInstance = axios.create({ baseURL: API_ROOT });\n\n\n// axios.defaults.baseURL = API_ROOT;\n\n// if (process.env.NODE_ENV === 'development') {\n//   console.log('add axios credentials conf');\n\n//   axios.defaults.withCredentials = true;\n// }\n\naxiosInstance.interceptors.request.use(\n  (config) => {\n    const token = localStorage.getItem('token');\n    if (config.url && !['login', 'register'].includes(config.url)) {\n      config.headers.Authorization = 'Bearer ' + token;\n    }\n\n    console.log('BASE', config);\n\n    return config;\n  },\n  error => {\n    return Promise.reject(error);\n  }\n);\n\naxiosInstance.interceptors.response.use(\n  response => {\n    // Do something with response data\n    return Promise.resolve(response);\n  },\n  err => {\n    // Do something with response err\n    if (err.response) {\n      console.log('API ERROR:) - ', err.response.data.code);\n      console.log('API ERROR22:) - ', err.response.data);\n    }\n    else {\n      console.error('API ERROR:) - ', err);\n      console.log('API ERROR22:) - ', err.message);\n    }\n\n    handleNetError(err);\n\n    return Promise.reject(err);\n  }\n);\n\nexport default axiosInstance;\n","export const ROUTES = Object.freeze({\n  auth: '/auth/',\n  login: '/auth/login/',\n  register: '/auth/register/',\n  recovery: '/auth/recovery/',\n  notFound: '/not-found',\n  serverError: '/server-error',\n  main: '/',\n  schedule: '/schedule',\n  notifications: '/notifications',\n  settings: '/settings',\n  settingsGeneral: '/settings/general',\n  settingsSchedule: '/settings/schedule',\n  settingsSecurity: '/settings/security',\n  invitation: '/invitation',\n  invites: '/invites'\n});\n\nexport const LIST_SPINNER_SIZE = 50;\nexport const LIMIT = 20;\n","import { useEffect, EffectCallback } from 'react';\n\nconst useDidMount = (fn: EffectCallback) => useEffect(() => fn && fn(), []);\n\nexport default useDidMount;\n","import { useEffect, useRef } from 'react';\n\nconst useDidUpdate = (f: () => any, dependencies: any[]) => {\n  const didMountRef = useRef(false);\n\n  useEffect(() => {\n    if (!didMountRef.current) {\n      didMountRef.current = true;\n      return;\n    }\n\n    return f && f();\n  }, dependencies);\n};\n\nexport default useDidUpdate;","import { useEffect } from 'react';\n\nconst useWillUnmount = (fn: () => void) => useEffect(() => () => fn && fn(), []);\n\nexport default useWillUnmount;\n","import { useEffect, useRef } from 'react';\n\nconst usePrevious = <T>(value: T): T | null => {\n  const ref = useRef<T | null>(value);\n\n  useEffect(() => {\n    ref.current = value;\n  });\n\n  return ref.current;\n};\n\nexport default usePrevious;\n","import useDidUpdate from './useDidUpdate';\n\nconst useDebounce = (fn: () => any, ms: number, args: any[]) => {\n  useDidUpdate(() => {\n    const handle = setTimeout(fn.bind(null, args), ms);\n\n    return () => {\n      clearTimeout(handle);\n    };\n  }, args);\n};\n\nexport default useDebounce;\n","import { useCallback, useState } from 'react';\n\nconst useToggle = (initialValue: boolean): [boolean, (nextValue?: any) => void] => {\n  const [value, setValue] = useState<boolean>(initialValue);\n\n  const toggle = useCallback(\n    (nextValue?: any) => {\n      if (typeof nextValue === 'boolean') {\n        setValue(nextValue);\n      }\n      else {\n        setValue(currentValue => !currentValue);\n      }\n    },\n    [setValue]\n  );\n\n  return [value, toggle];\n};\n\nexport default useToggle;\n","import { Dispatch } from 'redux';\n\nimport { IActiveWindowsState } from './ducks.types';\nimport { IAction, IAnyObject } from '../../interfaces/interfaces';\n\nexport const OPEN_MODAL = 'OPEN_MODAL';\nexport const CLOSE_MODAL = 'CLOSE_MODAL';\n\nexport const MODAL_TYPES = {\n  successRegisterModal: 'successRegisterModal',\n  successPasswordChangeModal: 'successPasswordChangeModal',\n  successPasswordRecoveryModal: 'successPasswordRecoveryModal',\n  agentModal: 'agentModal',\n  inviteMemberModal: 'inviteMemberModal',\n  invitationInstructionsModal: 'invitationInstructionsModal',\n  deleteAgentModal: 'deleteAgentModal',\n  deleteInviteModal: 'deleteInviteModal',\n  deleteAccountModal: 'deleteAccountModal',\n  declineInviteModal: 'declineInviteModal',\n  eventModal: 'eventModal',\n  deleteEventModal: 'deleteEventModal',\n}\n\nexport const openModal = (type: string, props?: IAnyObject) => (dispatch: Dispatch) => {\n  dispatch({\n    type: OPEN_MODAL,\n    payload: {\n      type,\n      props,\n    },\n  })\n}\n\nexport const closeModal = (modalType?: string) => (dispatch: Dispatch) => { // delete last item by default\n  setTimeout(() => {\n    dispatch({\n      type: CLOSE_MODAL,\n      payload: modalType,\n    })\n  }, 500)\n}\n\nconst initialState: IActiveWindowsState = {\n  activeModals: [],\n  activeModalsEntities: {},\n};\n\nconst activeWindowsReducer = (state = initialState, { type, payload }: IAction) => {\n  switch (type) {\n    case OPEN_MODAL: {\n      const { type, props } = payload;\n\n      const newModal = {\n        type,\n        props,\n      };\n\n      return {\n        ...state,\n        activeModals: [...state.activeModals, newModal],\n        activeModalsEntities: {\n          ...state.activeModalsEntities,\n          [newModal.type]: true,\n        }\n      }\n    }\n\n    case CLOSE_MODAL: {\n      const updatedActiveModals = [...state.activeModals];\n      const updatedEntities = { ...state.activeModalsEntities };\n\n      const lastIndex = updatedActiveModals.length - 1;\n      const removedIndex = payload\n        ? state.activeModals.findIndex(modal => modal.type === payload)\n        : lastIndex;\n\n      if (removedIndex === -1) {\n        return state;\n      }\n\n      delete updatedEntities[updatedActiveModals[removedIndex].type]\n\n      updatedActiveModals.splice(removedIndex, 1);\n\n      return {\n        ...state,\n        activeModals: updatedActiveModals,\n        activeModalsEntities: updatedEntities,\n      }\n    }\n\n    default:\n      return state;\n  }\n};\n\nexport default activeWindowsReducer;","import axiosInstance from '../services/axiosInstance';\n\nimport { IAgentsConfig } from '../redux/ducks/ducks.types';\nimport { IResetPasswordFormValues } from '../containers/SettingsSecurity/SettingsSecurity';\nimport { IDay } from '../containers/SettingsSchedule/SettingsSchedule.types';\n\nconst logoutUser = () => axiosInstance.post('logout');\n\nconst getUser = () => {\n  return axiosInstance.get('user/get-current');\n}\n\nconst updateUser = (user: {\n  img?: any;\n  url?: string;\n  name?: string;\n  type?: number;\n  phone?: string;\n  description?: string;\n}) => {\n  const User = new FormData();\n\n  User.set('name', user.name || '');\n  User.set('phone', user.phone || '');\n  User.set('description', user.description || '');\n  (typeof user.img !== 'string') && User.set('img', user.img || '');\n  user.type === 2 && User.set('url', user.url || '');\n\n  return axiosInstance.post('user/update', User);\n}\n\nconst deleteUser = () => {\n  return axiosInstance.delete('user/delete');\n}\n\nconst changePassword = (values: IResetPasswordFormValues) => {\n  const Password = new FormData();\n\n  Password.set('oldPassword', values.oldPassword);\n  Password.set('newPassword', values.newPassword);\n\n  return axiosInstance.post('user/change-password', Password);\n}\n\nconst getAgencies = (offset?: number, limit: number = 10) => {\n  const apiConfig: {\n    params: {\n      limit: number;\n      offset?: number;\n    }\n  } = {\n    params: {\n      limit,\n    }\n  }\n  \n  if (offset) {\n    apiConfig.params.offset = offset;\n  }\n\n  return axiosInstance.get('subscription/get-followers', apiConfig);\n}\n\nconst getAgenciesCount = () => {\n  return axiosInstance.get('subscription/get-count-followers');\n}\n\nconst getAgents = (config: IAgentsConfig) => {\n  const apiConfig: {\n    params: {\n      limit: number;\n      search?: string;\n      status?: number;\n      offset?: number;\n    }\n  } = {\n    params: {\n      limit: 10,\n    } \n  };\n\n  if (config.search) {\n    apiConfig.params.search = config.search;\n  }\n  if (config.filterStatus) {\n    apiConfig.params.status = config.filterStatus;\n  }\n  if (config.offset) {\n    apiConfig.params.offset = config.offset;\n  }\n\n  return axiosInstance.get('subscription/get-agency-follow', apiConfig);\n}\n\nconst getInvites = (offset?: number) => {\n  const apiConfig: {\n    params: {\n      limit: number;\n      offset?: number;\n    }\n  } = {\n    params: {\n      limit: 10\n    }\n  }\n\n  if (offset) {\n    apiConfig.params.offset = offset;\n  }\n\n  return axiosInstance.get('subscription/get-invites', apiConfig);\n} \n\nconst getInvitesCount = () => {\n  return axiosInstance.get('subscription/get-count-invites');\n}\n\nconst sendInvite = (email: string) => {\n  const Invite = new FormData();\n\n  Invite.set('email', email);\n\n  return axiosInstance.post('subscription/send-request', Invite);\n} \n\nconst unsubscribeAgent = (email: string) => {\n  return axiosInstance.delete(`subscription/unsubscribe-agent/${email}`);\n}\n  \nconst getNotificationsCount = () => {\n  return axiosInstance.get('subscription/get-count-requests');\n}\n\nconst getNotifications = (offset?: number) => {\n  const apiConfig: {\n    params: {\n      limit: number;\n      offset?: number;\n    }\n  } = {\n    params: {\n      limit: 10\n    }\n  }\n\n  if (offset) {\n    apiConfig.params.offset = offset;\n  }\n\n  return axiosInstance.get('subscription/get-requests', apiConfig);\n}\n\nconst acceptNotification = (token: string) => {\n  const Token = new FormData();\n\n  Token.set('token', token);\n\n  return axiosInstance.post('subscription/accept', Token);\n}\n\nconst declineNotification = (token: string) => {\n  const Token = new FormData();\n\n  Token.set('token', token);\n\n  return axiosInstance.post('subscription/decline', Token)\n}\n\nconst deleteInvite = (id: number) => {\n  return axiosInstance.delete(`subscription/delete-invite/${id}`);\n}\n\nconst getWokTime= () => {\n  return axiosInstance.get('schedule/get-work-time');\n}\n\nconst setWorkTime = (config: {\n  mode: string;\n  times: IDay | IDay[]\n}) => {\n  const WorkTime = new FormData();\n\n  WorkTime.set('mode', config.mode)\n  WorkTime.set('times', JSON.stringify(config.times))\n\n  return axiosInstance.post('schedule/set-work-time', WorkTime);\n}\n\nconst getAgentSchedule = (date: number) => {\n  return axiosInstance.get('schedule/get-agent-schedule', { params: { date } });\n}\n\nconst addEvent = (config: {\n  id: null | number;\n  start: number;\n  end: number;\n  agencyId: number;\n  type: string;\n  description: string;\n}, action?: string) => {\n  const WorkRecord = new FormData();\n\n  WorkRecord.set('end', JSON.stringify(config.end));\n  WorkRecord.set('type', config.type);\n  WorkRecord.set('start', JSON.stringify(config.start));\n  WorkRecord.set('description', config.description)\n  config.agencyId && WorkRecord.set('agencyId', JSON.stringify(config.agencyId));\n\n  if (action === 'update') {\n    WorkRecord.set('id', JSON.stringify(config.id))\n  }\n\n  return action === 'update'\n    ? axiosInstance.post('/schedule/change-work-record', WorkRecord)\n    : axiosInstance.post('/schedule/add-work-record', WorkRecord);\n}\n\nconst deleteEvent = (eventId: number) => {\n  return axiosInstance.delete(`/schedule/delete-work-record/${eventId}`);\n}\n\nconst changeWorkingStatus = (status: 0 | 1) => {\n  const WorkingStatus = new FormData();\n\n  WorkingStatus.set('status', JSON.stringify(status));\n\n  return axiosInstance.post('/schedule/set-working-status', WorkingStatus);\n}\n\nconst API = {\n  logoutUser,\n  getUser,\n  getAgencies,\n  getAgenciesCount,\n  updateUser,\n  deleteUser,\n  changePassword,\n  getAgents,\n  getInvites,\n  getInvitesCount,\n  sendInvite,\n  unsubscribeAgent,\n  getNotificationsCount,\n  getNotifications,\n  acceptNotification,\n  declineNotification,\n  deleteInvite,\n  getWokTime,\n  setWorkTime,\n  getAgentSchedule,\n  addEvent,\n  deleteEvent,\n  changeWorkingStatus,\n}\n\nexport default API;\n","export default (fn: (...params: any[]) => void, time: number) => {\n  let timeoutId: number = 0;\n\n  return function(...args: any[]) {\n    const functionCall = () => fn.call(fn, ...args);\n\n    clearTimeout(timeoutId);\n    timeoutId = window.setTimeout(functionCall, time);\n  };\n};\n","export default __webpack_public_path__ + \"static/media/agency-avatar.c4f4ccf4.svg\";","import AgentAvatar from '../icons/agent-avatar.svg';\nimport AgencyAvatar from '../icons/agency-avatar.svg';\n\nconst getContactAvatar = (client: { img: null | string, type: number }) => {\n  let defaultAvatar;\n\n  switch (client.type) {\n    case 1:\n      defaultAvatar = AgentAvatar;\n      break;\n    case 2:\n      defaultAvatar = AgencyAvatar;\n      break;\n    default:\n      defaultAvatar = AgentAvatar;\n      break;\n  }\n\n  if (!client.img) {\n    return defaultAvatar;\n  }\n  else {\n    return client.img;\n  }\n}\n\nexport default getContactAvatar;","interface IDataItem<T> {\n  [key: string]: T; // id\n};\n\ninterface IEntities<T> {\n  [key: string]: IDataItem<T>;\n};\n\ninterface INormalizeResult<T> {\n  entities: IEntities<T>;\n  ids: T[];\n};\n\n\nconst normalize = <T extends IDataItem<T>>(data: Array<T>, key: string = 'id'): INormalizeResult<T> => {\n  const entities: IEntities<T> = {};\n\n  const ids: T[] = data.map((dataItem: T) => {\n    const id: any = dataItem[key];\n\n    entities[id] = dataItem;\n\n    return id;\n  });\n\n  return { entities, ids };\n};\n\nexport default normalize;","const addToEntitiesIfMissing = (\n  entities: { [key: string]: any }, \n  newEntities: { [key: string]: any } | any[], \n  key = 'id'\n) => {\n  const uniqueEntities: { [key: string]: any } = {};\n\n  if (Array.isArray(newEntities)) {\n    newEntities.forEach((item) => {\n      const isInEntities = entities[item[key]];\n\n      if (!isInEntities) {\n        uniqueEntities[item[key]] = item;\n      }\n    });\n  }\n  else {\n    for (const itemKey in newEntities) {\n      const isInEntities = entities[itemKey];\n      if (!isInEntities) {\n        uniqueEntities[itemKey] = newEntities[itemKey];\n      }\n    }\n  }\n\n  return { ...entities, ...uniqueEntities };\n};\n\nexport default addToEntitiesIfMissing;","const emailRegExp = /^([a-zA-Z0-9_\\-.]+)@([a-zA-Z0-9_\\-.]+)\\.([a-zA-Z]{2,5})$/;\n\nconst validateFormValues = {\n  isEmpty: (value: string) => !value || !value.trim().length,\n  isEmail: (email: string) => email && emailRegExp.test(email),\n}\n\nexport default validateFormValues;","import React, { MutableRefObject } from \"react\";\nimport { FieldRenderProps } from \"react-final-form\";\n\nimport Spinner from \"./Spinner/Spinner\";\ninterface IFormTextInputProps {\n  // name: string;\n  className?: string;\n  autoFocus?: boolean;\n  disabled?: boolean;\n  autoComplete?: string;\n  serverErrors?: any;\n  placeholder?: string;\n  errorClass?: string;\n  errorInputClass?: string;\n  spinnerClass?: string;\n  asyncValidation?: boolean;\n  // type?: string;\n  input: FieldRenderProps<string, HTMLInputElement>['input'];\n  meta: FieldRenderProps<string | number, HTMLInputElement>['meta'];\n  inputRef?: MutableRefObject<HTMLInputElement>;\n}\n\n\nconst FormTextInput = (props: IFormTextInputProps) => {\n  const {\n    input,\n    autoFocus,\n    autoComplete,\n    disabled,\n    className,\n    placeholder,\n    serverErrors,\n    inputRef,\n    // type,\n    meta: { error, touched, active, submitFailed, validating, dirty }\n  } = props;\n\n  const errorInputClass = (error && touched && !active && submitFailed)\n    ? props.errorInputClass\n    : '';\n\n  const renderClientError = () => {\n    if (props.asyncValidation) {\n      return error && dirty && <div className={props.errorClass}>{error}</div>\n    }\n    return error && touched && !active && submitFailed && <div className={props.errorClass}>{error}</div>\n  }\n\n  return (\n    <>\n      <input\n        {...input}\n        disabled={disabled}\n        type={input.type || \"text\"}\n        ref={inputRef}\n        placeholder={placeholder}\n        className={`${className} ${errorInputClass}`}\n        name={input.name}\n        value={input.value}\n        autoComplete={autoComplete}\n        autoFocus={autoFocus}\n      />\n\n      {/* Client Error */}\n      {renderClientError()}\n      {/* Server Error */}\n      {serverErrors\n        && serverErrors[input.name]\n        && !error\n        && <div className={props.errorClass}>{serverErrors[input.name]}</div>\n      }\n      {validating && <Spinner size=\"14px\" className={props.spinnerClass} />}\n    </>\n  )\n}\n\nexport default FormTextInput;","import './Spinner.scss';\n\ninterface ISpinnerProps {\n  className?: string;\n  size?: string;\n  style?: { [key: string]: string }\n}\n\nconst Spinner = (props: ISpinnerProps) => {\n  const {\n    size = '30px',\n    className = '',\n    style = {},\n  } = props;\n\n  return (\n    <div\n      className={className ? `spinner ${className}` : 'spinner'}\n      style={{\n        width: size,\n        height: size,\n        ...style,\n      }}\n    ></div>\n  )\n};\n\nexport default Spinner;","import { Dispatch } from 'redux';\n\nimport API from '../../api/api'\nimport { normalize, addToEntitiesIfMissing } from '../../utils';\nimport { IAction, IInvite, IAgent } from '../../interfaces/interfaces';\nimport { IAgentsState, IAgentsConfig } from \"./ducks.types\";\n\nexport const GET_AGENTS = 'GET_AGENTS';\nexport const UPDATE_AGENTS = 'UPDATE_AGENTS';\nexport const ADD_AGENT = 'ADD_AGENT';\nexport const DELETE_AGENT = 'DELETE_AGENT'\n\nexport const FILTER_AGENTS = 'FILTER_AGENTS';\nexport const UPDATE_FILTERED_AGENTS = 'UPDATE_FILTERED_AGENTS';\n\nexport const UPDATE_SEARCH = 'UPDATE_SEARCH';\nexport const UPDATE_STATUS_FILTER = 'UPDATE_STATUS_FILTER';\n\nexport const GET_INVITES = 'GET_INVITES';\nexport const UPDATE_INVITES = 'UPDATE_INVITES';\nexport const ADD_INVITE = 'ADD_INVITE';\nexport const DELETE_INVITE = 'DELETE_INVITE';\nexport const GET_INVITES_COUNT = 'GET_INVITES_COUNT';\n\nexport const AGENTS_LIMIT = 20;\n\nexport const getAgents = (offset?: number) => (dispatch: Dispatch) => {\n  return API.getAgents({ offset })\n    .then(({ data }) => { \n      dispatch({\n        type: offset ? UPDATE_AGENTS : GET_AGENTS,\n        payload: normalize(data),\n      });\n    })\n    .catch(console.error);\n}\n\nexport const filterAgents = (config: IAgentsConfig) => (dispatch: Dispatch) => {\n  return API.getAgents(config)\n    .then(({ data }) => {\n      dispatch({\n        type: config.offset ? UPDATE_FILTERED_AGENTS : FILTER_AGENTS,\n        payload: normalize(data),\n      })\n    })\n    .catch(console.error)\n}\n\nexport const updateSearch = (query: string) => (dispatch: Dispatch) => {\n  dispatch({\n    type: UPDATE_SEARCH,\n    payload: query\n  });\n}\n\nexport const updateStatusFilter = (statusFilter: number) => (dispatch: Dispatch) => {\n  dispatch({\n    type: UPDATE_STATUS_FILTER,\n    payload: statusFilter\n  })\n}\n\nexport const addAgent = (agent: IAgent) => (dispatch: Dispatch) => {\n  dispatch({\n    type: ADD_AGENT,\n    payload: agent\n  })\n}\n\nexport const deleteAgent = (id: number) => (dispatch: Dispatch) => {\n  dispatch({\n    type: DELETE_AGENT,\n    payload: id\n  })\n}\n\nexport const getInvites = (offset?: number) => (dispatch: Dispatch) => {\n  return API.getInvites(offset)\n    .then(({ data }) => {\n      dispatch({\n        type: offset ? UPDATE_INVITES : GET_INVITES,\n        payload: normalize(data),\n      });\n    })\n    .catch(console.error);\n}\n\nexport const getInvitesCount = () => (dispatch: Dispatch) => {\n  API.getInvitesCount()\n    .then(({ data }) => {\n      dispatch({\n        type: GET_INVITES_COUNT,\n        payload: data\n      });\n    })\n    .catch(console.error);\n}\n\nexport const addInvite = (invite: IInvite) => (dispatch: Dispatch) => {\n  dispatch({\n    type: ADD_INVITE,\n    payload: invite\n  })\n}\n\nexport const deleteInvite = (id: number) => (dispatch: Dispatch) => {\n  dispatch({\n    type: DELETE_INVITE,\n    payload: id\n  })\n}\n\nconst initialState: IAgentsState = {\n  pending: true,\n  ids: [],\n  auxiliaryIds: [],\n  entities: {},\n  search: '',\n  filterStatus: 0,\n  inviteIds: [],\n  inviteEntities: {},\n  invitesCount: 0,\n}\n\nconst agenciesReducer = (state = initialState, action: IAction) => {\n  const { type, payload } = action;\n\n  switch (type) {\n    case GET_AGENTS: {\n      return {\n        ...state,\n        pending: false,\n        ids: payload.ids,\n        entities: addToEntitiesIfMissing(state.entities, payload.entities, 'id'),\n        auxiliaryIds: [],\n      }\n    }\n\n    case UPDATE_AGENTS: {\n      return {\n        ...state,\n        ids: [...state.ids, ...payload.ids],\n        entities: addToEntitiesIfMissing(state.entities, payload.entities, 'id'),\n      }\n    }\n\n    case FILTER_AGENTS: {\n      return {\n        ...state,\n        pending: false,\n        entities: addToEntitiesIfMissing(state.entities, payload.entities, 'id'),\n        auxiliaryIds: payload.ids\n      }\n    }\n\n    case UPDATE_FILTERED_AGENTS: {\n      return {\n        ...state,\n        entities: addToEntitiesIfMissing(state.entities, payload.entities, 'id'),\n        auxiliaryIds: [...state.auxiliaryIds, ...payload.ids]\n      }\n    }\n\n    case UPDATE_SEARCH: {\n      if (state.search === payload) return state;\n\n      return {\n        ...state,\n        search: payload,\n        pending: true\n      }\n    }\n\n    case UPDATE_STATUS_FILTER: {\n      if (state.filterStatus === payload) return state;\n      \n      return {\n        ...state,\n        filterStatus: payload,\n        pending: true\n      }\n    }\n\n    case ADD_AGENT: {\n      const deletedInviteId = Object.values(state.inviteEntities).find(invite => invite.email === payload.email)?.id;\n\n      const updatedEntities = { ...state.inviteEntities };\n      (deletedInviteId !== undefined) && delete updatedEntities[deletedInviteId];\n\n      return {\n        ...state,\n        entities: {\n          [payload.id]: payload,\n          ...state.entities\n        },\n        ids: [payload.id, ...state.ids],\n        inviteIds: state.inviteIds.filter(id => id !== deletedInviteId),\n        inviteEntities: updatedEntities,\n        invitesCount: (state.invitesCount - 1 < 0) ? 0 : state.invitesCount - 1\n      }\n    }\n\n    case DELETE_AGENT: {\n      const isFilter = state.filterStatus || state.search;\n\n      const updatedIds = isFilter\n        ? state.auxiliaryIds.filter(id => id !== payload)\n        : state.ids.filter(id => id !== payload);\n\n      const updatedEntities = { ...state.entities };\n      delete updatedEntities[payload];\n\n      return {\n        ...state,\n        ids: isFilter ? state.ids : updatedIds,\n        auxiliaryIds: isFilter ? updatedIds : state.auxiliaryIds,\n      }\n    }\n\n    case GET_INVITES: {\n      return {\n        ...state,\n        inviteIds: payload.ids,\n        inviteEntities: payload.entities,\n      }\n    }\n\n    case UPDATE_INVITES: {\n      return {\n        ...state,\n        inviteIds: [\n          ...state.inviteIds, \n          ...payload.ids\n        ],\n        inviteEntities: {\n          ...state.inviteEntities,\n          ...payload.entities\n        }\n      }\n    }\n\n    case ADD_INVITE: {\n      return {\n        ...state,\n        inviteEntities: {\n          [payload.id]: payload,\n          ...state.inviteEntities\n        },\n        inviteIds: [payload.id, ...state.inviteIds],\n        invitesCount: state.invitesCount + 1,\n      }\n    }\n\n    case DELETE_INVITE: {\n      const updatedEntities = { ...state.inviteEntities };\n      delete updatedEntities[payload];\n\n      return {\n        ...state,\n        inviteIds: state.inviteIds.filter(id => id !== payload),\n        inviteEntities: updatedEntities,\n        invitesCount: (state.invitesCount - 1 < 0) ? 0 : state.invitesCount - 1\n      }\n    }\n\n    case GET_INVITES_COUNT: {\n      return {\n        ...state,\n        invitesCount: payload\n      }\n    }\n\n    default:\n      return state;\n  }\n}\n\nexport default agenciesReducer;","import React, { useState, useEffect, useRef } from 'react';\n\nimport { usePrevious, useWillUnmount } from '../../hooks';\n\nimport './AsyncBtn.scss';\nimport Spinner from '../Spinner/Spinner';\n\ninterface IAsyncBtnProps {\n  onClick?: () => Promise<any>;\n  className: string;\n  pending?: boolean;\n  disabled?: boolean;\n  spinnerSize?: string;\n  type?: 'button' | 'submit' | 'reset' | undefined;\n}\n\nconst AsyncBtn: React.FC<IAsyncBtnProps> = (props) => {\n  const {\n    className,\n    spinnerSize,\n    onClick,\n    pending: pendingFromProps = false,\n    disabled,\n  } = props;\n\n  const [pending, setPending] = useState(pendingFromProps);\n\n  const prevPendingFromProps = usePrevious(pendingFromProps);\n\n  let isUnmount = useRef(false);\n\n  useEffect(() => {\n    if (prevPendingFromProps && !pendingFromProps) {\n      setPending(false);\n    }\n    else if (!prevPendingFromProps && pendingFromProps) {\n      setPending(true);\n    }\n  }, [pendingFromProps]);\n\n  useWillUnmount(() => isUnmount.current = true);\n\n  const handleClick = () => {\n    if (onClick && typeof onClick === 'function') {\n      setPending(true);\n\n      return onClick()\n        .then(() => !isUnmount.current && setPending(false))\n        .catch(console.error)\n    }\n  };\n\n  return (\n    <button\n      type={props.type}\n      className={`async-btn ${className}`}\n      onClick={handleClick}\n      disabled={pending || disabled}\n    // {...buttonProps}\n    > \n      {props.children}\n\n      {pending && \n        <div className=\"async-btn__spinner-wrap\">\n          <Spinner size={spinnerSize} />\n        </div>\n      }\n        \n    </button>\n  );\n};\n\nexport default AsyncBtn;\n","import { Dispatch } from 'redux';\n\nimport API from '../../api/api'\nimport { normalize } from '../../utils'\nimport { IAction, IAgency } from '../../interfaces/interfaces';\nimport { IAgenciesState } from \"./ducks.types\";\n\nconst GET_AGENCIES = 'GET_AGENCIES';\nconst UPDATE_AGENCIES = 'UPDATE_AGENCIES';\nconst ADD_AGENCY = 'ADD_AGENCY';\nconst DELETE_AGENCY = 'DELETE_AGENCY';\nconst GET_AGENCIES_COUNT = 'GET_AGENCIES_COUNT';\n\nexport const getAgencies = (offset?: number) => (dispatch: Dispatch) => {\n  API.getAgencies(offset)\n    .then(({ data }) => {\n      dispatch({\n        type: offset ? UPDATE_AGENCIES : GET_AGENCIES,\n        payload: normalize(data),\n      });\n    })\n    .catch(console.error);\n};\n\nexport const addAgency = (agency: IAgency) => (dispatch: Dispatch) => {\n  dispatch({\n    type: ADD_AGENCY,\n    payload: agency\n  })\n}\n\nexport const deleteAgency = (id: number) => (dispatch: Dispatch) => {\n  dispatch({\n    type: DELETE_AGENCY,\n    payload: id\n  })\n}\n\nexport const getAgenciesCount = () => (dispatch: Dispatch) => {\n  API.getAgenciesCount()\n    .then(({ data }) => {\n      dispatch({\n        type: GET_AGENCIES_COUNT,\n        payload: data,\n      });\n    })\n    .catch(console.error);\n};\n\n\nconst initialState: IAgenciesState = {\n  ids: [],\n  entities: {},\n  count: 0,\n  pending: true,\n}\n\nconst agenciesReducer =  (state = initialState, action: IAction) => {\n  const { type, payload } = action;\n  \n  switch (type) {\n    case GET_AGENCIES: {\n      return {\n        ...state,\n        entities: payload.entities,\n        ids: payload.ids,\n        pending: false,\n      }\n    }\n\n    case UPDATE_AGENCIES: {\n      return {\n        ...state,\n        entities: {\n          ...state.entities,\n          ...payload.entities,\n        },\n        ids: [\n          ...state.ids,\n          ...payload.ids,\n        ],\n      }\n    }\n\n    case ADD_AGENCY: {\n      return {\n        ...state,\n        entities: {\n          [payload.id]: payload,\n          ...state.entities\n        },\n        ids: [payload.id, ...state.ids],\n        count: state.count + 1\n      }\n    }\n\n    case DELETE_AGENCY: {\n      const updatedEntities = { ...state.entities };\n      delete updatedEntities[payload];\n\n      return {\n        ...state,\n        ids: state.ids.filter(id => id !== payload),\n        count: (state.count - 1 < 0) ? 0 : state.count - 1\n      }\n    }\n\n    case GET_AGENCIES_COUNT: {\n      return {\n        ...state,\n        count: payload\n      }\n    }\n    \n  default:\n    return state;\n  }\n}\n\nexport default agenciesReducer;","import { Dispatch } from 'redux';\n\nimport API from '../../api/api';\nimport { IAction, INotification } from '../../interfaces/interfaces';\nimport { INotificationsState } from './ducks.types';\nimport { normalize } from '../../utils';\n\nexport const GET_NOTIFICATIONS_COUNT = 'GET_NOTIFICATIONS_COUNT';\nexport const REDUCE_NOTIFICATIONS_COUNT = 'REDUCE_NOTIFICATIONS_COUNT';\n\nexport const GET_NOTIFICATIONS = 'GET_NOTIFICATIONS';\nexport const UPDATE_NOTIFICATIONS = 'UPDATE_NOTIFICATIONS';\nexport const REMOVE_NOTIFICATIONS = 'REMOVE_NOTIFICATIONS';\n\nexport const ADD_NOTIFICATION = 'ADD_NOTIFICATION';\n\nexport const getNotificationsCount = () => (dispatch: Dispatch) => {\n  API.getNotificationsCount()\n    .then(({ data }) => {\n      dispatch({\n        type: GET_NOTIFICATIONS_COUNT,\n        payload: data\n      })\n    })\n}\n\nexport const reduceNotificationsCount = (value: number) => (dispatch: Dispatch) => {\n  dispatch({\n    type: REDUCE_NOTIFICATIONS_COUNT,\n    payload: value\n  })\n}\n\nexport const getNotifications = (offset?: number) => (dispatch: Dispatch) => {\n  API.getNotifications(offset)\n    .then(({ data }) => {\n      dispatch({\n        type: offset ? UPDATE_NOTIFICATIONS : GET_NOTIFICATIONS,\n        payload: normalize(data)\n      })\n    })\n    .catch(console.error)\n}\n\nexport const addNotification = (notification: INotification) => (dispatch: Dispatch) => {\n  dispatch({\n    type: ADD_NOTIFICATION,\n    payload: notification\n  })\n}\n\nexport const removeNotifications = (ids: number[], isReduceCount: boolean = true) => (dispatch: Dispatch) => {\n  dispatch({\n    type: REMOVE_NOTIFICATIONS,\n    payload: { ids, isReduceCount }\n  })\n}\n\nconst initialState: INotificationsState = {\n  ids: [],\n  newIds: [],\n  entities: {},\n  count: 0,\n  pending: true,\n}\n\nconst notificationsReducer = (state = initialState, action: IAction) => {\n  const { type, payload } = action;\n\n  switch (type) {\n    case GET_NOTIFICATIONS_COUNT: {\n      return {\n        ...state,\n        count: payload,\n      }\n    }\n\n    case REDUCE_NOTIFICATIONS_COUNT: {\n      return {\n        ...state,\n        count: (state.count - payload < 0) ? 0 : state.count - payload,\n      }\n    }\n\n    case GET_NOTIFICATIONS: {\n      return {\n        ...state,\n        entities: payload.entities,\n        ids: payload.ids,\n        pending: false,\n      }\n    }\n\n    case UPDATE_NOTIFICATIONS: {\n      return {\n        ...state,\n        entities: {\n          ...state.entities,\n          ...payload.entities,\n        },\n        ids: [\n          ...state.ids,\n          ...payload.ids,\n        ],\n      }\n    }\n\n    case ADD_NOTIFICATION: {\n      return {\n        ...state,\n        entities: { \n          [payload.id]: payload, \n          ...state.entities \n        },\n        ids: state.ids.includes(payload.id) ? state.ids : [payload.id, ...state.ids],\n        count: state.ids.includes(payload.id) ? state.count : state.count + 1,\n      }\n    }\n\n    case REMOVE_NOTIFICATIONS: {\n      if (payload.ids.length === 0) return state;\n\n      const updatedEntities = { ...state.entities };\n      payload.ids.forEach((id: number) => delete updatedEntities[id]);\n\n      return {\n        ...state,\n        ids: state.ids.filter((id) => !payload.ids.includes(id)),\n        entities: updatedEntities,\n        count: payload.isReduceCount \n          ? (state.count - payload.ids.length < 0) ? 0 : state.count - payload.ids.length\n          : state.count\n      }\n    }\n\n    default:\n      return state;\n  }\n}\n\nexport default notificationsReducer;","export default (mainClass: string, modifier: string | Array<string | boolean> = ''): string => {\n  if (!modifier) {\n    return mainClass;\n  }\n\n  let result: string = mainClass;\n\n  if (!Array.isArray(modifier)) {\n    return result += ` ${mainClass}--${modifier}`;\n  }\n\n  modifier.forEach(modifier => {\n    if (modifier) {\n      result += ` ${mainClass}--${modifier}`;\n    }\n  });\n\n  return result;\n};","import { Link } from 'react-router-dom';\n\nimport './ReturnBtn.scss';\nimport { ReactComponent as ArrowIcon } from '../../icons/arrow.svg';\n\ninterface IReturnBtnProps {\n  text?: string;\n  route: string;\n}\n\nconst ReturnBtn = (props: IReturnBtnProps) => {\n  const { \n    text = 'Back', \n    route,\n  } = props;\n  \n  return (\n    <Link \n      className=\"return-btn\"\n      to={route}\n    >\n      <ArrowIcon className=\"return-btn__icon\"/>\n      \n      <span>{text}</span>\n    </Link>\n  )\n}\n\nexport default ReturnBtn;\n","export default function throttle(func, ms, disableLastCall) {\n\n  var isThrottled = false,\n    savedArgs,\n    savedThis;\n\n  function wrapper() {\n\n    if (isThrottled) { // (2)\n      savedArgs = arguments;\n      savedThis = this;\n      return;\n    }\n\n    func.apply(this, arguments); // (1)\n\n    isThrottled = true;\n\n    setTimeout(function () {\n      isThrottled = false; // (3)\n      if (savedArgs) {\n        if (!disableLastCall) {\n          wrapper.apply(savedThis, savedArgs);\n        }\n        savedArgs = savedThis = null;\n      }\n    }, ms);\n  }\n\n  return wrapper;\n}","import { useEffect, useState } from 'react';\nimport { usePrevious } from '../../hooks';\n\ninterface IDelayedComponentProps {\n  isMount: boolean;\n  delayUnmountTime?: number;\n} \n\n// Use when we need animate element before he will unmount\nconst DelayedComponent: React.FC<IDelayedComponentProps> = (props) => {\n  const { isMount } = props;\n\n  const [shouldRender, setShouldRender] = useState(isMount);\n  const prevIsMount = usePrevious(isMount);\n\n  useEffect(() => {\n    let timer: number;\n\n    if (!isMount && prevIsMount) {\n      timer = window.setTimeout(() => {\n        setShouldRender(false);\n      }, props.delayUnmountTime || 500);\n    }\n    else if (!prevIsMount && isMount) {\n      setShouldRender(true)\n    }\n\n    return () => {\n      clearTimeout(timer);\n    }\n  }, [shouldRender, isMount])\n\n  return (\n    <>\n      {shouldRender\n        ? props.children\n        : null}\n    </>\n  )\n \n}\n\nexport default DelayedComponent;","export default __webpack_public_path__ + \"static/media/agent-avatar.7e17fec3.svg\";","import { useState } from 'react';\nimport Spinner from '../Spinner/Spinner';\n\nimport './LazyLoadImage.scss';\n\n\ninterface ILazyLoadImageProps {\n  src: string;\n  alt?: string;\n  spinnerSize?: string;\n  classPrefix?: string;\n  spinnerClassName?: string;\n}\n\n\nconst LazyLoadImage = (props: ILazyLoadImageProps) => {\n  const [state, setState] = useState<{\n    imageLoaded: boolean,\n    error: string,\n  }>({\n    imageLoaded: false,\n    error: '',\n  });\n\n  const onLoad = () => setState({ imageLoaded: true, error: '' });\n\n  const onError = () => setState({ imageLoaded: true, error: 'Failed to load image...' });\n\n  return (\n    <div className={props.classPrefix ? `lazy-load__wrap ${props.classPrefix}` : 'lazy-load__wrap'}>\n      {!state.imageLoaded &&\n        <Spinner\n          size={props.spinnerSize}\n          className={props.spinnerClassName}\n        />\n      }\n\n      <img\n        src={props.src}\n        alt={props.alt || 'image'}\n        onLoad={onLoad}\n        onError={onError}\n        title={state.error}\n      />\n    </div>\n  );\n};\n\nexport default LazyLoadImage;","import { Dispatch } from 'redux';\n\nimport API from '../../api/api';\nimport { IAgentScheduleState } from './ducks.types';\nimport { IAction, IEvent } from \"../../interfaces/interfaces\";\n\nexport const GET_AGENT_SCHEDULE = 'GET_AGENT_SCHEDULE';\n\nexport const ADD_EVENT = 'ADD_EVENT';\nexport const UPDATE_EVENT = 'UPDATE_EVENT';\nexport const DELETE_EVENT = 'DELETE_EVENT';\n\nexport const SET_PENDING_TRUE = 'SET_PENDING_TRUE';\n\nexport const getAgentSchedule = (date: number) => (dispatch: Dispatch) => {\n  dispatch({ type: SET_PENDING_TRUE });\n\n  return API.getAgentSchedule(date)\n    .then(({ data }) => {\n      dispatch({\n        type: GET_AGENT_SCHEDULE,\n        payload: data\n      })\n    })\n    .catch(console.error);\n}\n\nexport const addEvent = (\n  event: IEvent, \n  workTime: { from: number, to: number },\n) => (dispatch: Dispatch) => {\n  dispatch({\n    type: ADD_EVENT,\n    payload: { event, workTime }\n  })\n}\n\nexport const updateEvent = (\n  event: IEvent,\n  workTime: { from: number, to: number },\n) => (dispatch: Dispatch) => {\n  dispatch({\n    type: UPDATE_EVENT,\n    payload: { event, workTime }\n  })\n}\n\nexport const deleteEvent = (\n  eventId: number, \n  workTime: { from: number, to: number }\n) => (dispatch: Dispatch) => {\n  dispatch({\n    type: DELETE_EVENT,\n    payload: { eventId, workTime }\n  })\n}\n\nconst initialState: IAgentScheduleState = {\n  pending: true,\n  events: [],\n  workTime: null,\n}\n\nconst agentScheduleReducer = (state = initialState, action: IAction) => {\n  const { type, payload } = action;\n\n  switch (type) {\n    case SET_PENDING_TRUE: {\n      return {\n        ...state,\n        pending: true,\n      }\n    }\n\n    case GET_AGENT_SCHEDULE: {\n      return {\n        ...state,\n        workTime: payload.date,\n        events: payload.schedule,\n        pending: false,\n      }\n    }\n\n    case ADD_EVENT: {\n      return {\n        ...state,\n        workTime: payload.workTime,\n        events: [...state.events, payload.event],\n      }\n    }\n\n    case UPDATE_EVENT: {\n      return {\n        ...state,\n        workTime: payload.workTime,\n        events: state.events?.map(event => event.id === payload.event.id ? payload.event : event),\n      }\n    }\n\n    case DELETE_EVENT: {\n      return {\n        ...state,\n        workTime: payload.workTime,\n        events: state.events?.filter(event => event.id !== payload.eventId),\n      }\n    }\n\n\n  default:\n    return state\n  }\n}\n\nexport default agentScheduleReducer;\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"defs\", null);\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M6.6.38a.88.88 0 100 1.76h4.8a.88.88 0 000-1.76H6.6zM16.35 2.93H1.65a.88.88 0 100 1.76h.88l.95 10.51a2.64 2.64 0 002.64 2.42h5.76a2.64 2.64 0 002.64-2.42l.95-10.51h.88a.88.88 0 100-1.76zm-3.59 12.12a.88.88 0 01-.88.81H6.12a.88.88 0 01-.88-.81L4.3 4.69h9.38l-.93 10.36z\"\n});\n\nfunction SvgTrash(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"#000\",\n    viewBox: \"0 0 18 18\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgTrash);\nexport default __webpack_public_path__ + \"static/media/trash.b18834c2.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"defs\", null);\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M2.774.042L.971 1.918l6.305 6.086L.97 14.082l1.803 1.876 7.28-7.02.975-.934-.975-.942-7.28-7.02z\"\n});\n\nfunction SvgArrow(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"#000\",\n    viewBox: \"0 0 12 16\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgArrow);\nexport default __webpack_public_path__ + \"static/media/arrow.26a84f3d.svg\";\nexport { ForwardRef as ReactComponent };","import React, { MutableRefObject, useEffect, useRef } from \"react\";\nimport { FieldRenderProps } from \"react-final-form\";\n\nimport Spinner from \"./Spinner/Spinner\";\n\n\ninterface IFormTextInputProps {\n  // name: string;\n  className?: string;\n  autoFocus?: boolean;\n  disabled?: boolean;\n  autoComplete?: string;\n  serverErrors?: any;\n  placeholder?: string;\n  errorClass?: string;\n  errorInputClass?: string;\n  spinnerClass?: string;\n  asyncValidation?: boolean;\n  rows?: number;\n  input: FieldRenderProps<string, HTMLTextAreaElement>['textarea'];\n  meta: FieldRenderProps<string | number, HTMLTextAreaElement>['meta'];\n  inputRef?: MutableRefObject<HTMLTextAreaElement>;\n}\n\nconst FormTextTextarea = (props: IFormTextInputProps) => {\n  const {\n    input,\n    autoFocus,\n    autoComplete,\n    disabled,\n    className,\n    placeholder,\n    serverErrors,\n    inputRef,\n    // type,\n    meta: { error, touched, active, submitFailed, validating, dirty }\n  } = props;\n\n  const textareaRef = useRef<FieldRenderProps<HTMLTextAreaElement>['textarea']>(null);\n\n  const inputHeightAutosize = (): void => {\n    if (inputRef && inputRef.current) {\n      inputRef.current.style.height = '';\n      inputRef.current.style.height = inputRef.current.scrollHeight + 'px';\n    }\n    else {\n      textareaRef.current.style.height = '';\n      textareaRef.current.style.height = textareaRef.current.scrollHeight + 'px';\n    }\n  };\n\n  useEffect(() => {\n    inputHeightAutosize();\n  }, [input.value])\n\n\n  const errorInputClass = (error && touched && !active)\n    ? props.errorInputClass\n    : '';\n\n  const renderClientError = () => {\n    if (props.asyncValidation) {\n      return error && dirty && <div className={props.errorClass}>{error}</div>\n    }\n    return error && touched && !active && submitFailed && <div className={props.errorClass}>{error}</div>\n  }\n\n  return (\n    <>\n      <textarea\n        {...input}\n        disabled={disabled}\n        ref={inputRef ? inputRef : textareaRef}\n        placeholder={placeholder}\n        className={`${className} ${errorInputClass}`}\n        name={input.name}\n        value={input.value}\n        autoComplete={autoComplete}\n        autoFocus={autoFocus}\n        rows={props.rows || 1}\n      />\n\n      {/* Client Error */}\n      {renderClientError()}\n      {/* Server Error */}\n      {serverErrors\n        && serverErrors[input.name]\n        && !error\n        && <div className={props.errorClass}>{serverErrors[input.name]}</div>\n      }\n      {validating && <Spinner size=\"14px\" className={props.spinnerClass} />}\n    </>\n  )\n}\n\nexport default FormTextTextarea;","const createImage = (url: string): Promise<HTMLImageElement> =>\n  new Promise((resolve, reject) => {\n    const image = new Image();\n    image.addEventListener('load', () => resolve(image));\n    image.addEventListener('error', error => reject(error));\n    image.setAttribute('crossOrigin', 'anonymous'); // needed to avoid cross-origin issues on CodeSandbox\n    image.src = url;\n  })\n\nfunction getRadianAngle(degreeValue: number) {\n  return (degreeValue * Math.PI) / 180;\n}\n\nexport async function getCroppedImg(\n  imageSrc: string, \n  pixelCrop: {\n    x: number, // x/y are the coordinates of the top/left corner of the cropped area\n    y: number,\n    width: number, // width of the cropped area\n    height: number, // height of the cropped area\n  }, \n  rotation = 0\n): Promise<Blob> {\n  const image = await createImage(imageSrc);\n  const canvas: HTMLCanvasElement = document.createElement('canvas');\n  const ctx = canvas.getContext('2d');\n\n  const maxSize = Math.max(image.width, image.height);\n  const safeArea = 2 * ((maxSize / 2) * Math.sqrt(2));\n\n  // set each dimensions to double largest dimension to allow for a safe area for the\n  // image to rotate in without being clipped by canvas context\n  canvas.width = safeArea;\n  canvas.height = safeArea;\n\n  if (ctx) {\n    // translate canvas context to a central location on image to allow rotating around the center.\n    ctx.translate(safeArea / 2, safeArea / 2);\n    ctx.rotate(getRadianAngle(rotation));\n    ctx.translate(-safeArea / 2, -safeArea / 2);\n\n    // draw rotated image and store data.\n    ctx.drawImage(\n      image,\n      safeArea / 2 - image.width * 0.5,\n      safeArea / 2 - image.height * 0.5\n    )\n    const data = ctx.getImageData(0, 0, safeArea, safeArea);\n\n    // set canvas width to final desired crop size - this will clear existing context\n    canvas.width = pixelCrop.width;\n    canvas.height = pixelCrop.height;\n\n    // paste generated rotate image with correct offsets for x,y crop values.\n    ctx.putImageData(\n      data,\n      Math.round(0 - safeArea / 2 + image.width * 0.5 - pixelCrop.x),\n      Math.round(0 - safeArea / 2 + image.height * 0.5 - pixelCrop.y)\n    )\n  }\n\n  // As Base64 string\n  // return canvas.toDataURL('image/jpeg');\n\n  // As a blob\n  return new Promise(resolve => {\n    canvas.toBlob(file => {\n      file && resolve(file)\n    }, 'image/jpeg')\n  })\n}\n","import { useState, useRef } from \"react\";\n\nimport throttle from '../../utils/throttle';\nimport { useToggle, useDidMount } from '../../hooks';\n\nimport './Slider.scss'\n\ninterface IProps {\n  onUpdate: (steps: number) => void,\n  countOfSteps: number,\n  currentStep?: number,\n}\n\nconst maxCountOfSteps = 100; // 100%\n\nconst Slider = (props: IProps) => {\n  const {\n    onUpdate,\n    countOfSteps,\n  } = props;\n\n  const [currentStep, setCurrentStep] = useState(0);\n  const [countInStep, setCountInStep] = useState(1); // how much steps in step (in proportion). Example: 2 step of 5 It's 20/100\n  const [isActive, setIsActive] = useToggle(false); \n  \n  const sliderRef = useRef<HTMLDivElement | null>(null);\n  const thumbRef = useRef<HTMLDivElement | null>(null);\n\n  useDidMount(() => { // Init\n    props.currentStep && setCurrentStep(props.currentStep);\n    setCountInStep(maxCountOfSteps / countOfSteps);\n  })\n\n  //Mouse events\n  const onMouseDown = (e: React.MouseEvent<HTMLDivElement>) => {\n    setIsActive(true);\n    updateThumbCoords(e.clientX);\n\n    document.addEventListener(\"mouseup\", onMouseUp);\n    document.addEventListener(\"mousemove\", onMouseMove);\n  }\n\n  const onMouseUp = () => {\n    setIsActive(false);\n\n    document.removeEventListener(\"mouseup\", onMouseUp);\n    document.removeEventListener(\"mousemove\", onMouseMove);\n  }\n\n  const onMouseMove = (e: MouseEvent) => {\n    throttledUpdateThumbCoords(e.clientX);\n  }\n\n  //Touch events\n  const onTouchStart = (e: React.TouchEvent<HTMLDivElement>) => {\n    setIsActive(true);\n    updateThumbCoords(e.touches[0].clientX);\n\n    document.addEventListener(\"touchend\", onTouchEnd);\n    document.addEventListener(\"touchmove\", onTouchMove);\n  }\n\n  const onTouchEnd = () => {\n    setIsActive(false);\n\n    document.removeEventListener(\"touchend\", onTouchEnd);\n    document.removeEventListener(\"touchmove\", onTouchMove);\n  }\n\n  const onTouchMove = (e: TouchEvent) => {\n    throttledUpdateThumbCoords(e.touches[0].clientX); \n  }\n\n  const throttledUpdateThumbCoords = throttle((clientX: number) => {\n    updateThumbCoords(clientX);\n  }, 20)\n\n  const updateThumbCoords = (clientX: number) => {\n    if (sliderRef && sliderRef.current && thumbRef && thumbRef.current) {\n      const sliderWidth = sliderRef.current.getBoundingClientRect().width;\n      const thumbWidth = thumbRef.current.getBoundingClientRect().width;\n      const rightEdge = sliderWidth - thumbWidth;\n      const currentLeft = sliderRef.current.getBoundingClientRect().left + (thumbWidth / 2);\n      const shiftX = clientX - currentLeft;\n\n      const sizeOfStep = rightEdge / maxCountOfSteps; // in pixels\n\n      if (clientX < currentLeft) {\n        setCurrentStep(0);\n        onUpdate(0);\n\n        return;\n      }\n      else if (shiftX > rightEdge) {\n        setCurrentStep(maxCountOfSteps);\n        onUpdate(countOfSteps);\n\n        return;\n      }\n\n      const newCurrentStepInPercentage = shiftX / sizeOfStep; // For Slider\n      const newCurrentStepInSeconds = newCurrentStepInPercentage / countInStep; // For Player\n\n      setCurrentStep(newCurrentStepInPercentage);\n      onUpdate(newCurrentStepInSeconds);\n    }\n  }\n\n  const getLeftOffsetFor = (forWhat: string) => {\n    if (thumbRef && thumbRef.current) {\n      const leftInPercentage = currentStep;\n\n      const thumbWidth = thumbRef.current.offsetWidth;\n      const substractWidth = forWhat === 'left-path' // left-path It's line that moves behind thumb\n        ? 0\n        : thumbWidth * (currentStep / 100);\n\n      return `calc(${leftInPercentage}% - ${substractWidth}px)`;\n    }\n  }\n\n  return (\n    <div\n      className=\"slider\"\n      onMouseDown={onMouseDown}\n      onTouchStart={onTouchStart}\n      ref={sliderRef}\n    >\n      <div\n        className=\"slider__slider-left-path\"\n        style={{\n          width: getLeftOffsetFor('left-path')\n        }}\n      />\n\n      <div\n        className={\"slider__thumb\" + (isActive ? ' active' : '')}\n        ref={thumbRef}\n        style={{\n          left: getLeftOffsetFor('thumb')\n        }}\n      />\n\n      <div className=\"slider__slider-right-path\" />\n    </div>\n  );\n};\n\nexport default Slider;","import { useState, useCallback } from 'react';\nimport Cropper from 'react-easy-crop';\n\nimport { getCroppedImg } from './ImgCropperUtils'\n\nimport Slider from '../Slider/Slider';\n\ninterface IProps {\n  image: string;\n  aspect: number;\n  onCrop: (file: Blob) => void;\n  onCancel?: () => void;\n  cropShape: 'round' | 'rect';\n  classPrefix: string;\n  showSaveButton?: boolean;\n  showCancelButton?: boolean;\n}\n\nconst ImgCropper = (props: IProps) => {\n  const {\n    image, \n    onCrop,\n    onCancel,\n    aspect,\n    cropShape,\n    classPrefix,\n    showCancelButton = true,\n  } = props;\n\n  const [crop, setCrop] = useState({ x: 0, y: 0 });\n  const [zoom, setZoom] = useState(1);\n  const [croppedAreaPixels, setCroppedAreaPixels] = useState<{\n    x: number,\n    y: number,\n    width: number,\n    height: number, \n  }>({ x: 0, y: 0, width: 0, height: 0 });\n\n  const onCropComplete = useCallback((_croppedArea, pixels) => {\n    setCroppedAreaPixels(pixels)\n  }, [])\n\n  const onUpdate = (z: number) => setZoom(z + 1);\n\n  const onCropHandler = async () => {\n    try {\n      const croppedImage: Blob = await getCroppedImg(image, croppedAreaPixels);\n\n      onCrop(croppedImage);\n    }\n    catch (e) {\n      console.error(e);\n    }\n  }\n\n  const onCancelHandler = () => {\n    if (onCancel && typeof onCancel === 'function') {\n      onCancel();\n    }\n  }\n\n  return (\n    <div className={classPrefix}>\n      <div className={classPrefix + '__container'}>\n        <Cropper\n          image={image || ''}\n          crop={crop}\n          zoom={zoom}\n          aspect={aspect}\n          cropShape={cropShape}\n          onCropChange={setCrop}\n          onCropComplete={onCropComplete}\n          zoomWithScroll={false}\n          classes={{ \n            mediaClassName: classPrefix + '__crop-media', \n          }}\n        />\n      </div>\n\n      <div className={classPrefix + '__slider'}>\n        <Slider\n          onUpdate={onUpdate}\n          countOfSteps={2}\n        />\n      </div>\n\n      <div className={classPrefix + '__controls'}>\n        <button\n          className={classPrefix + '__save-btn btn btn--primary'}\n          type=\"button\"\n          onClick={onCropHandler}\n        >\n          Save\n        </button>\n\n        {showCancelButton &&\n          <button\n            className={classPrefix + '__cancel-btn btn btn--secondary'}\n            type=\"button\"\n            onClick={onCancelHandler}\n          >\n            Cancel\n          </button>}\n      </div>\n    </div>\n  )\n}\n\nexport default ImgCropper;\n","import { Dispatch } from 'redux';\n\nimport { IAction, IAgent, IAgency } from '../../interfaces/interfaces';\nimport { IUserState } from './ducks.types';\nimport { getAgencies, getAgenciesCount } from './agencies';\nimport { getAgents, getInvitesCount } from './agents';\nimport { getNotificationsCount } from './notifications';\n\nexport const SET_TOKEN = 'SET_TOKEN';\n\nexport const SET_USER = 'SET_USER';\n\nexport const initApp = (user: IAgent | IAgency) => (dispatch: Dispatch<any>) => {\n  const authToken = localStorage.getItem('token');\n\n  dispatch({\n    type: SET_TOKEN,\n    payload: authToken,\n  })\n\n  dispatch({\n    type: SET_USER,\n    payload: user,\n  })\n\n  if (user.type === 1) {\n    dispatch(getAgenciesCount());\n    dispatch(getAgencies());\n  } \n\n  if (user.type === 2) {\n    dispatch(getInvitesCount());\n    dispatch(getAgents());\n  }\n\n  dispatch(getNotificationsCount())\n}\n\nexport const setUser = (user: IAgent | IAgency) => (dispatch: Dispatch) => {\n  dispatch({\n    type: SET_USER,\n    payload: user\n  })\n}\n\nconst initialState: IUserState = {\n  authToken: null,\n  user: null,\n}\n\nconst userReducer = (state = initialState, { type, payload }: IAction) => {\n  switch (type) {\n    case SET_TOKEN: {\n      return {\n        ...state,\n        authToken: payload\n      }\n    }\n\n    case SET_USER: {\n      return {\n        ...state,\n        user: {\n          ...payload\n        }\n      }\n    }\n\n    default:\n      return state;\n  }\n}\n\nexport default userReducer;","import { combineReducers } from 'redux';\n\nimport activeWindowsReducer from './ducks/activeWindows'\nimport userReducer from './ducks/user';\nimport agenciesReducer from './ducks/agencies';\nimport agentsReducer from './ducks/agents';\nimport notificationsReducer from './ducks/notifications';\nimport agentScheduleReducer from './ducks/agentSchedule';\n\nconst rootReducer = combineReducers({\n  activeWindows: activeWindowsReducer,\n  user: userReducer,\n  agencies: agenciesReducer,\n  agents: agentsReducer,\n  notifications: notificationsReducer,\n  agentSchedule: agentScheduleReducer,\n});\n\nexport default rootReducer;\n","import { createStore, applyMiddleware } from 'redux';\nimport thunk from 'redux-thunk';\nimport logger from 'redux-logger';\n\nimport { composeWithDevTools } from 'redux-devtools-extension';\n\nimport rootReducer from './rootReducer';\n\nexport type AppState = ReturnType<typeof rootReducer>;\n\nconst middlewares = [thunk, logger];\n\nconst store = createStore(\n  rootReducer,\n  composeWithDevTools(applyMiddleware(...middlewares))\n);\n\nexport default store;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      (process as { env: { [key: string]: string } }).env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"defs\", null);\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  fill: \"#F8F8F8\",\n  d: \"M225.563 116.256l-5.486-28.625-4.671-25.209v-.035c-.041.096-.076.198-.117.289.573 2.96 9.869 51.207 10.071 53.656l.203-.076zM216.829 56.45v-.036a.414.414 0 010 .087v-.051zM234.094 47.09c-.004-.254.01-.508.04-.76-.927 1.552-2.133 5.07-2.33 5.72l.035.075 2.255-5.034z\"\n});\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"path\", {\n  fill: \"#A0AEC0\",\n  d: \"M271.619 204.936c.435 4.147 9.59 182.973 9.59 182.973h-9.59l-46.634-168.376 46.634-14.597z\"\n});\n\nvar _ref5 = /*#__PURE__*/React.createElement(\"path\", {\n  fill: \"#A0AEC0\",\n  d: \"M276.811 186.942c1.21 24.433-9.19 44.444-27.251 44.444-24.793 0-57.616-15.818-66.649-24.747-2.255 6.673-34.232 90.713-34.232 90.713h-13.242s8.485-97.851 24.393-122.948c5.233-6.976 40.488-6.718 62.064-1.485 17.129 10.844 49.005 15.686 54.917 14.023z\"\n});\n\nvar _ref6 = /*#__PURE__*/React.createElement(\"path\", {\n  stroke: \"#A0AEC0\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\",\n  strokeWidth: 2.5,\n  d: \"M213.957 41.676a3.092 3.092 0 011.864-.436c1.941.137 5.112 5.267 5.112 9.42 0 4.152-1.17 5.714-.816 8.73.355 3.017 8.03 43.922 8.03 46.417a34.364 34.364 0 004.499-.289\"\n});\n\nvar _ref7 = /*#__PURE__*/React.createElement(\"path\", {\n  stroke: \"#A0AEC0\",\n  strokeLinecap: \"round\",\n  strokeMiterlimit: 10,\n  strokeWidth: 2.5,\n  d: \"M255.22 86.404c7.761.872 13.349 6.165 17.3 13.912M229.104 114.877c3.546-10.951 8.379-20.473 14.651-25.274M276.984 112.362c7.746 29.021 2.72 72.182-.172 74.581-4.378 3.63-51.041-8.62-54.917-14.024-1.611-2.231-1.282-17.497 1.611-34.613\"\n});\n\nvar _ref8 = /*#__PURE__*/React.createElement(\"path\", {\n  stroke: \"#A0AEC0\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\",\n  strokeWidth: 2.5,\n  d: \"M239.525 110.912c-2.062.7-14.155 5.42-14.155 5.42-.202-2.434-9.498-50.7-10.071-53.656a24.166 24.166 0 001.707-9.278c0-7.925-3.217-14.359-7.183-14.359-3.967 0-7.179 6.434-7.179 14.359a23.762 23.762 0 001.875 9.663c-.446 6.033-4.449 63.32 3.718 71.488 8.329 8.335 28.132 1.358 40.939-4.345\"\n});\n\nvar _ref9 = /*#__PURE__*/React.createElement(\"path\", {\n  fill: \"#A0AEC0\",\n  d: \"M230.546 55.668l-7.59-2.016-1.408 5.307 7.59 2.016 1.408-5.307z\"\n});\n\nvar _ref10 = /*#__PURE__*/React.createElement(\"path\", {\n  stroke: \"#A0AEC0\",\n  strokeLinecap: \"round\",\n  strokeMiterlimit: 10,\n  strokeWidth: 2.5,\n  d: \"M267.374 99.028c4.331.507 7.887 2.028 9.463 5.07 5.72 11.114-16.931 31.135-23.198 29.645-6.266-1.491-16.373-23.87-14.484-27.886.537-1.15 3.41-2.677 7.356-4.01\"\n});\n\nvar _ref11 = /*#__PURE__*/React.createElement(\"path\", {\n  stroke: \"#A0AEC0\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\",\n  strokeWidth: 2.5,\n  d: \"M243.755 89.603V86.46M255.22 80.583v15.099c0 .912-2.701 1.495-5.477 1.582M257.834 75.731a24.62 24.62 0 01-2.614 4.852M248.366 86.104a9.543 9.543 0 01-3.04.507c-8.268 0-14.965-10.844-14.965-24.22a36.918 36.918 0 011.423-10.327\"\n});\n\nvar _ref12 = /*#__PURE__*/React.createElement(\"path\", {\n  stroke: \"#A0AEC0\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\",\n  strokeWidth: 2.5,\n  d: \"M255.564 71.574c.294 2.763 1.338 4.157 2.27 4.157 1.099 0 3.997-.76 5.861-.76 18.309 0 39.81 18.916 81.058 18.916 21.546 0 55.357-5.44 55.357-37.108 0-17.1-6.15-37.766-38.659-37.766-20.645 0-35.108 10.14-52.07 10.14-21.784 0-30.183-7.894-45.235-7.894-10.72 0-34.844 6.216-34.844 22.5 0 6.186 1.935 7.98 2.533 8.3.197-.659 1.403-4.167 2.33-5.719a9.609 9.609 0 001.834 6.368M252.413 62.706c.425.483.821.991 1.186 1.521\"\n});\n\nvar _ref13 = /*#__PURE__*/React.createElement(\"path\", {\n  stroke: \"#A0AEC0\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\",\n  strokeWidth: 2.5,\n  d: \"M251.811 64.942a3.82 3.82 0 015.864 2.338 3.823 3.823 0 01-2.11 4.294\"\n});\n\nvar _ref14 = /*#__PURE__*/React.createElement(\"path\", {\n  fill: \"#A0AEC0\",\n  d: \"M217.006 53.398a25.03 25.03 0 01-1.373 8.456c4.311.507 7.432.877 7.432.877l2.974-12.03s-4.398-1.831-9.874-4.057c.571 2.206.853 4.476.841 6.754zM202.643 53.398c0-4.477 1.013-8.472 2.635-11.104-4.727-1.86-8.704-3.371-9.834-3.655-3.288-.811-8.105 19.068-4.909 19.864 1.292.32 6.85 1.065 13.015 1.846a26.229 26.229 0 01-.907-6.951z\"\n});\n\nvar _ref15 = /*#__PURE__*/React.createElement(\"path\", {\n  stroke: \"#A0AEC0\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\",\n  strokeWidth: 2.5,\n  d: \"M147.069 296.901v11.094h-29.161l19.793-7.002v-4.092M280.702 387.488v11.093h-26.121l17.726-7.002v-4.091\"\n});\n\nvar _ref16 = /*#__PURE__*/React.createElement(\"path\", {\n  fill: \"#A0AEC0\",\n  d: \"M25.345 375.327v-13.635l39.366-53.027h17.587v52.444h10.715v14.218H82.298v16.549H65.759v-16.549H25.345zm41.695-47.433l-24.924 33.215H67.04v-33.215zM102.254 350.037c0 27.893 10.482 41.839 31.446 41.839 11.104 0 19.101-3.729 23.993-11.188 4.892-7.459 7.337-17.675 7.337-30.651 0-12.897-2.445-23.075-7.337-30.534-4.892-7.459-12.889-11.188-23.993-11.188-20.964 0-31.446 13.907-31.446 41.722zm46.587 0c0 8.469-1.048 14.996-3.144 19.58-2.019 4.506-6.018 6.759-11.997 6.759-6.056 0-10.132-2.253-12.229-6.759-2.019-4.584-3.028-11.111-3.028-19.58 0-8.391 1.009-14.839 3.028-19.346 2.097-4.584 6.173-6.876 12.229-6.876 5.979 0 9.978 2.292 11.997 6.876 2.096 4.507 3.144 10.955 3.144 19.346zM174.911 375.327v-13.635l39.366-53.027h17.587v52.444h10.715v14.218h-10.715v16.549h-16.538v-16.549h-40.415zm41.696-47.433l-24.924 33.215h24.924v-33.215z\"\n});\n\nfunction SvgError404(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 404 413\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3, _ref4, _ref5, _ref6, _ref7, _ref8, _ref9, _ref10, _ref11, _ref12, _ref13, _ref14, _ref15, _ref16);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgError404);\nexport default __webpack_public_path__ + \"static/media/error-404.d3494e21.svg\";\nexport { ForwardRef as ReactComponent };","import React from 'react';\n\nimport './NotFoundPage.scss';\nimport { ReactComponent as ErrorIcon } from '../../icons/error-404.svg';\nimport ReturnBtn from '../../components/ReturnBtn/ReturnBtn';\n\nconst NotFoundPage = () => {\n  return (\n    <div className=\"not-found-page\">\n      <ReturnBtn route=\"/\" text=\"Main Page\"/>\n\n      <div className=\"not-found-page__image\">\n        <ErrorIcon />\n      </div>\n\n      <h2 className=\"not-found-page__title\">Page not found</h2>\n\n      <p className=\"not-found-page__text\">\n        The Page you are looking for doesn't exist or an<br/>\n        other error occurred.\n      </p>\n    </div>\n  );\n};\n\nexport default NotFoundPage;\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"defs\", null);\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"g\", {\n  clipPath: \"url(#clip0)\"\n}, /*#__PURE__*/React.createElement(\"path\", {\n  fill: \"#fff\",\n  d: \"M225.056 232.432c-.848-1.546-26.459-27.072-36.953-37.507l-.438.877v.043c-2.138 4.3-4.334 8.706-6.612 13.151a1424.002 1424.002 0 01-13.793 26.436v.029l-.842 1.575c-12.796 23.812-24.417 43.477-28.091 45.336-3.246 1.628-94.02-14.769-94.02-14.769l3.187-17.137 76.958-1.065 4.715-20.267c.053-.241.111-.482.163-.723.261-1.102.521-2.224.785-3.37.073-.294.14-.593.208-.891.168-.723.337-1.445.505-2.177.347-1.483.697-2.99 1.05-4.521.063-.26.12-.52.183-.776.092-.404.183-.804.279-1.208.371-1.604.752-3.231 1.127-4.864l.622-2.658c.096-.424.192-.843.293-1.266.193-.848.39-1.69.588-2.538.197-.847.4-1.734.602-2.595.106-.482.217-.93.323-1.392l1.305-5.639.077-.332c.077-.318.149-.636.221-.963l.419-1.806.597-2.571.554-2.408c.097-.4.188-.804.28-1.194v-.029l.245-1.064c.198-.838.385-1.662.573-2.471.154-.669.308-1.324.458-1.974l.703-3.053c.082-.351.164-.703.241-1.045l.043-.168c.072-.333.149-.655.222-.963.158-.689.313-1.353.481-1.989 0-.116.048-.222.077-.337.096-.429.198-.852.289-1.257l.053-.226c.034-.159.072-.318.106-.482l.193-.823c.303-1.334.573-2.495.794-3.467v-.082c.058-.265.116-.515.169-.751l.029-.116c-4.046-4.242-11.818-28.025-13.485-51.683-4.055 3.934-7.854 6.496-9.588 6.496-1.113 0-2.74-.727-4.619-1.926-5.114 4.102-14.804 11.874-16.923 13.483-2.89 2.186-43.126 22.873-46.328 24.327a2.408 2.408 0 01-1.575.111c-.41 2.359-1.999 4.849-4.522 6.669a11.612 11.612 0 01-6.049 2.234c-23.448 27.168-43.261 50.422-39.774 69.096 1.676 8.807 8.553 16.574 18.69 23.783l4.151-2.976 20.304-2.89-2.832 16.272-2.07 1.15c18.02 9.212 40.15 17.865 61.431 27.169 45.462 19.95 86.922 42.856 124.596 33.89a74.047 74.047 0 008.568-2.615c-1.137-13.348-7.97-93.321-8.943-95.103zM264.035 107.97c-12.704-.173-30.764-.655-32.045-1.031-1.445-.419-17.93-6.072-26.3-8.942 8.838 16.546 13.899 33.669 15.257 39.409-.058.145-.13.289-.202.434 7.604 12.962 43.699 85.347 44.027 88.631.274 2.74-6.8 62.811-10.013 89.898 24.658-17.586 44.022-47.889 49.373-79.656 7.195-42.813-11.062-88.357-40.097-128.743zM83.513 118.626c1.035-1.262 11.558-13.001 15.988-17.947-1.31-2.205-1.989-4.131-1.675-5.436 1.247-5.225 23.308-24.52 37.891-19.262 2.528-4.873 6.049-8.773 10.792-11.22.222-5.71-.236-15.014-.833-22.227a27.54 27.54 0 01-.809-1.705c-26.251 14.658-48.322 54.515-75.614 89.783 7.286-5.972 13.696-11.297 14.26-11.986zM173.984 64.044c8.591-6.765 33.624 1.315 35.555 5.297.482 1.011.636 3.072.482 5.672 6.742 3.646 21.72 13.81 24.315 14.61 1.31.4 9.786 2.22 18.782 4.117-21.204-26.195-46.401-48.408-70.042-56.012-3.154 8.302-9.449 14.326-16.658 15.89a73.062 73.062 0 00-.106 8.187 33.756 33.756 0 017.672 2.24z\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  stroke: \"#8594AC\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\",\n  strokeWidth: 3.16,\n  d: \"M220.75 137.839c7.609 13.002 43.695 85.348 44.022 88.632.357 3.544-11.558 102.952-11.558 102.952h-19.056s-8.038-95.046-9.102-96.991c-.848-1.546-26.459-27.072-36.952-37.507\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  stroke: \"#8594AC\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\",\n  strokeWidth: 3.16,\n  d: \"M143.994 165.07c-3.217 14.114-19.547 84.332-19.547 84.332l-76.958 1.064-3.183 17.138s90.774 16.372 93.977 14.773c6.573-3.323 38.527-63.563 57.241-102.678\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  fill: \"#8594AC\",\n  d: \"M220.75 137.839l-2.702 4.724-.053-.115-4.609 4.093-5.341 3.794-7.291 4.435-8.669 4.334-8.061 3.327-16.634 4.69-8.187 1.108-6.16-.173s-6.742-1.281-9.044-3.005c-2.095 9.192-9.747 42.173-14.833 64.044 4.667-1.17 28.63-1.257 37.207 7.907 10.09-18.78 20.911-40.107 29.151-57.341l-2.095 5.176-.303 1.267-5.023 8.821c6.506 6.472 18.83 18.746 27.45 27.506l33.581-29.283c-10.855-21.991-24.113-48.013-28.384-55.309z\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  stroke: \"#8594AC\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\",\n  strokeWidth: 3.16,\n  d: \"M99.501 100.679c-4.42 4.931-14.953 16.686-15.989 17.947-1.31 1.604-34.236 28.262-36.273 29.855a1.274 1.274 0 00-.448.747c-2.364-.357-5.225.366-7.744 2.176-4.209 3.034-5.85 7.955-3.66 10.989 2.191 3.034 7.373 3.038 11.558 0 2.52-1.815 4.108-4.305 4.518-6.664a2.372 2.372 0 001.58-.116c3.202-1.445 43.414-22.151 46.328-24.327 2.119-1.589 11.809-9.356 16.923-13.483M205.69 97.997c8.37 2.89 24.874 8.524 26.3 8.942 1.926.564 41.238 1.354 44.282 1.017.106-.213.195-.433.265-.66 2.051 1.497 5.413 2.143 9.015 1.493 5.447-.964 9.367-4.551 8.751-7.975-.617-3.423-5.539-5.393-10.99-4.41a13.364 13.364 0 00-6.805 3.23 19.243 19.243 0 00-.236-1.112s-38.985-8.032-41.898-8.932c-2.591-.8-17.559-10.965-24.316-14.61\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  stroke: \"#8594AC\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\",\n  strokeWidth: 3.16,\n  d: \"M173.979 64.044c8.591-6.741 33.629 1.32 35.56 5.297 1.695 3.491-.694 19.594-4.773 26.966M135.707 75.948c2.528-4.873 6.049-8.774 10.802-11.22\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  stroke: \"#8594AC\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\",\n  strokeWidth: 3.16,\n  d: \"M166.311 61.81c33.904 5.441 51.882 63.948 54.636 75.601-5.832 14.157-56.856 37.897-76.225 28.112-3.771-1.926-12.411-27.149-14.202-52.247\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  stroke: \"#8594AC\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\",\n  strokeWidth: 3.16,\n  d: \"M140.971 79.323c13.167 13.29-14.385 40.449-20.034 40.449-5.649 0-24.522-18.616-23.116-24.524 1.406-5.909 29.41-29.793 43.15-15.925zM44.307 251.674l-2.832 16.271-22.36 12.419-15.868-2.321-2.485-6.814 23.241-16.67 20.304-2.885zM253.426 336.333l-1.016-1.18-.116-3.592-17.847.809-3.824 20.855 28.683 13.488\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  stroke: \"#8594AC\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\",\n  strokeWidth: 3.16,\n  d: \"M282.475 377.239c16.99 0 30.764-13.772 30.764-30.76 0-16.989-13.774-30.761-30.764-30.761-16.991 0-30.764 13.772-30.764 30.761 0 16.988 13.773 30.76 30.764 30.76zM145.676 42.51c.737 8.86 1.257 20.87.573 25.521 3.8 4.377 17.515 5.504 21.108 1.474-1.166-3.496-1.296-11.254-.939-15.89\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  stroke: \"#8594AC\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\",\n  strokeWidth: 3.16,\n  d: \"M142.911 23.595C145.112 9.631 155.659-.428 166.99.901c11.674 1.372 19.746 14.35 18.017 28.988-1.729 14.639-12.599 25.372-24.263 24-9.448-1.108-16.537-9.833-17.977-20.885\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  stroke: \"#8594AC\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\",\n  strokeWidth: 3.16,\n  d: \"M153.555 23.639a6.627 6.627 0 002.48-.67c2.186-1.497.573-4.724 2.186-5.417 1.445-.621 16.283-1.06 26.608 3.457\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  stroke: \"#8594AC\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\",\n  strokeWidth: 3.16,\n  d: \"M149.6 35.72a6.31 6.31 0 01-1.391.154c-3.819 0-6.916-3.37-6.916-7.492s3.097-7.488 6.916-7.488a6.903 6.903 0 016.284 4.372\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  stroke: \"#8594AC\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\",\n  strokeWidth: 3.16,\n  d: \"M154.493 25.266c.417.986.63 2.046.627 3.116 0 3.62-2.37 6.64-5.519 7.338\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  fill: \"#8594AC\",\n  d: \"M40.114 328.3H14.038v11.726c1.148-1.312 2.733-2.323 4.756-3.034 2.077-.765 4.319-1.148 6.724-1.148 3.881 0 7.134.875 9.758 2.624 2.624 1.695 4.565 3.991 5.822 6.888 1.257 2.897 1.886 6.095 1.886 9.594 0 6.341-1.777 11.371-5.33 15.088-3.553 3.663-8.555 5.494-15.006 5.494-4.373 0-8.173-.765-11.398-2.296-3.225-1.585-5.713-3.772-7.462-6.56C2.038 363.888 1.109 360.663 1 357h13.694c.273 1.859 1.011 3.389 2.214 4.592 1.257 1.203 2.952 1.804 5.084 1.804 2.46 0 4.291-.793 5.494-2.378 1.257-1.585 1.886-3.69 1.886-6.314 0-2.515-.656-4.455-1.968-5.822-1.312-1.367-3.143-2.05-5.494-2.05-1.804 0-3.307.41-4.51 1.23-1.203.765-2.023 1.777-2.46 3.034H1.328V316h38.786v12.3zM50.411 345.766c0 9.075 1.832 16.263 5.494 21.566 3.663 5.303 9.512 7.954 17.548 7.954 7.982 0 13.804-2.651 17.466-7.954 3.718-5.303 5.576-12.491 5.576-21.566 0-9.02-1.858-16.154-5.576-21.402-3.662-5.303-9.484-7.954-17.466-7.954-8.036 0-13.885 2.651-17.548 7.954-3.662 5.248-5.494 12.382-5.494 21.402zm32.144 0c0 5.193-.628 9.211-1.886 12.054-1.202 2.788-3.608 4.182-7.216 4.182-3.662 0-6.122-1.394-7.38-4.182-1.257-2.843-1.886-6.861-1.886-12.054 0-5.139.63-9.102 1.886-11.89 1.258-2.788 3.718-4.182 7.38-4.182 3.608 0 6.014 1.394 7.216 4.182 1.258 2.733 1.886 6.697 1.886 11.89zM103.593 345.766c0 9.075 1.831 16.263 5.494 21.566 3.663 5.303 9.512 7.954 17.548 7.954 7.981 0 13.803-2.651 17.466-7.954 3.717-5.303 5.576-12.491 5.576-21.566 0-9.02-1.859-16.154-5.576-21.402-3.663-5.303-9.485-7.954-17.466-7.954-8.036 0-13.885 2.651-17.548 7.954-3.663 5.248-5.494 12.382-5.494 21.402zm32.144 0c0 5.193-.629 9.211-1.886 12.054-1.203 2.788-3.608 4.182-7.216 4.182-3.663 0-6.123-1.394-7.38-4.182-1.257-2.843-1.886-6.861-1.886-12.054 0-5.139.629-9.102 1.886-11.89 1.257-2.788 3.717-4.182 7.38-4.182 3.608 0 6.013 1.394 7.216 4.182 1.257 2.733 1.886 6.697 1.886 11.89z\"\n}));\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"clipPath\", {\n  id: \"clip0\"\n}, /*#__PURE__*/React.createElement(\"path\", {\n  fill: \"#fff\",\n  d: \"M0 0h314v378H0z\"\n})));\n\nfunction SvgServerError(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 314 378\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3, _ref4);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgServerError);\nexport default __webpack_public_path__ + \"static/media/server-error.e8914037.svg\";\nexport { ForwardRef as ReactComponent };","import React from 'react';\n\nimport './ServerErrorPage.scss';\nimport { ReactComponent as ErrorIcon } from '../../icons/server-error.svg';\nimport ReturnBtn from '../../components/ReturnBtn/ReturnBtn';\n\nconst NotFound = () => {\n  return (\n    <div className=\"server-error-page\">\n      <ReturnBtn route=\"/\" text=\"Main Page\"/>\n\n      <div className=\"server-error-page__image\">\n        <ErrorIcon />\n      </div>\n\n      <h2 className=\"server-error-page__title\">Sorry, something went wrong.</h2>\n\n      <p className=\"server-error-page__text\">\n        Try reloading the page. We're working hard to fix it for you <br/>\n        as soon as possible\n      </p>\n    </div>\n  );\n};\n\nexport default NotFound;\n","import React, { LazyExoticComponent } from 'react';\nimport { Navigate, BrowserRouterProps, Route } from 'react-router-dom';\n\ninterface IPrivateRouteProps extends BrowserRouterProps {\n  component: React.ComponentType<BrowserRouterProps> | LazyExoticComponent<any>;\n  isAuthenticated: boolean;\n  redirectLink: string;\n  path?: string;\n}\n\nconst PrivateRoute = ({ component: Component, ...props }: IPrivateRouteProps) => {\n  if (!Component) return null;\n\n  return props.isAuthenticated\n    ? <Route path={props.path} element={<Component />} />\n    : <Navigate to={props.redirectLink} />\n}\n\nexport default PrivateRoute;","import { lazy } from 'react';\n\nconst MainPage = lazy(() => import(/* webpackChunkName: \"MainPageChunk\"*/ '../pages/MainPage/MainPage'));\nconst SuccessRegisterModal = lazy(() => import(/* webpackChunkName: \"SuccessRegisterModalChunk\"*/ '../containers/Modals/components/SuccessRegisterModal/SuccessRegisterModal'));\nconst Agencies = lazy(() => import(/* webpackChunkName: \"AgenciesChunk\"*/ '../pages/AgenciesPage/AgenciesPage'));\nconst Agents = lazy(() => import(/* webpackChunkName: \"AgenciesChunk\"*/ '../pages/AgentsPage/AgentsPage'));\nconst AgentSchedule = lazy(() => import(/* webpackChunkName: \"AgentScheduleChunk\"*/ '../pages/AgentSchedulePage/AgentSchedulePage'));\nconst Notifications = lazy(() => import(/* webpackChunkName: \"NotificationsChunk\"*/ '../pages/NotificationsPage/NotificationsPage'));\nconst Invites = lazy(() => import(/* webpackChunkName: \"InvitesChunk\"*/ '../pages/InvitesPage/InvitesPage'));\nconst Settings = lazy(() => import(/* webpackChunkName: \"SettingsChunk\"*/ '../pages/SettingsPage/SettingsPage'));\nconst SettingsGeneral = lazy(() => import(/* webpackChunkName: \"SettingsGeneralChunk\"*/ '../pages/SettingsPage/SettingsGeneralPage'));\nconst SettingsSchedule = lazy(() => import(/* webpackChunkName: \"SettingsScheduleChunk\"*/ '../pages/SettingsPage/SettingsSchedulePage'));\nconst SettingsSecurity = lazy(() => import(/* webpackChunkName: \"SettingsSecurityChunk\"*/ '../pages/SettingsPage/SettingsSecurityPage'));\nconst SuccessPasswordChangeModal = lazy(() => import(/* webpackChunkName: \"SuccessPasswordChangeModalChunk\"*/ '../containers/Modals/components/SuccessPasswordChangeModal/SuccessPasswordChangeModal'));\nconst SuccessPasswordRecoveryModal = lazy(() => import(/* webpackChunkName: \"SuccessPasswordRecoveryModalChunk\"*/ '../containers/Modals/components/SuccessPasswordRecoveryModal/SuccessPasswordRecoveryModal'));\nconst AgentModal = lazy(() => import(/* webpackChunkName: \"AgentModalChunk\"*/ '../containers/Modals/components/AgentModal/AgentModal'));\nconst InviteMemberModal = lazy(() => import(/* webpackChunkName: \"InviteMemberModalChunk\"*/ '../containers/Modals/components/InviteMemberModal/InviteMemberModal'));\nconst InvitationInstructionsModal = lazy(() => import(/* webpackChunkName: \"InvitationInstructionsModalChunk\"*/ '../containers/Modals/components/InvitationInstructionsModal/InvitationInstructionsModal'));\nconst DeleteAgentModal = lazy(() => import(/* webpackChunkName: \"DeleteAgentModalChunk\"*/ '../containers/Modals/components/DeleteAgentModal/DeleteAgentModal'));\nconst DeleteInviteModal = lazy(() => import(/* webpackChunkName: \"DeleteInviteModalChunk\"*/ '../containers/Modals/components/DeleteInviteModal/DeleteInviteModal'));\nconst DeleteAccountModal = lazy(() => import(/* webpackChunkName: \"DeleteAccountModalChunk\"*/ '../containers/Modals/components/DeleteAccountModal/DeleteAccountModal'));\nconst DeclineInviteModal = lazy(() => import(/* webpackChunkName: \"DeclineInviteModalChunk\"*/ '../containers/Modals/components/DeclineInviteModal/DeclineInviteModal'));\nconst EventModal = lazy(() => import(/* webpackChunkName: \"EventModalChunk\"*/ '../containers/Modals/components/EventModal/EventModal'));\nconst DeleteEventModal = lazy(() => import(/* webpackChunkName: \"DeleteEventModalChunk\"*/ '../containers/Modals/components/DeleteEventModal/DeleteEventModal'));\n\nconst Loadable = {\n  MainPage,\n  SuccessRegisterModal,\n  Agencies,\n  Agents,\n  AgentSchedule,\n  Notifications,\n  Settings,\n  SettingsGeneral,\n  SettingsSchedule,\n  SettingsSecurity,\n  SuccessPasswordChangeModal,\n  SuccessPasswordRecoveryModal,\n  AgentModal,\n  Invites,\n  InviteMemberModal,\n  InvitationInstructionsModal,\n  DeleteAgentModal,\n  DeleteInviteModal,\n  DeleteAccountModal,\n  DeclineInviteModal,\n  EventModal,\n  DeleteEventModal,\n};\n\nexport default Loadable;","import React from 'react';\n\nimport './GlobalPreloader.scss';\n\nimport Spinner from '../Spinner/Spinner';\n\nconst GlobalPreloader = ({ spinnerSize = '150px' }: { spinnerSize?: string }) => {\n  return <div className=\"global-preloader\">\n    <div className=\"global-preloader__wrap\">\n      <Spinner size={spinnerSize} />\n    </div>\n  </div>\n};\n\nexport default GlobalPreloader;","import axiosInstance from \"../services/axiosInstance\";\nimport { ILoginFormValues } from \"../pages/AuthPage/LoginPage/LoginPage\";\nimport { IRecoveryPasswordFormValues } from \"../pages/AuthPage/RecoveryPage/RecoveryPasswordForm\";\nimport { IRegisterFormValues } from \"../pages/AuthPage/RegisterPage/RegisterPage\";\n\nconst login = (values: ILoginFormValues) => {\n  const Credentials = new FormData();\n\n  Credentials.set('email', values.email);\n  Credentials.set('password', values.password);\n\n  return axiosInstance.post('login', Credentials);\n};\n\nconst sendEmailForRegister = (email: string) => {\n  const Credentials = new FormData();\n\n  Credentials.set('email', email);\n\n  return axiosInstance.post('email/verify', Credentials);\n};\n\nconst isRegisterTokenValid = (token: string) => {\n  const Credentials = new FormData();\n\n  Credentials.set('token', token);\n\n  return axiosInstance.post('email/validate-token', Credentials);\n};\n\nconst register = (values: IRegisterFormValues) => {\n  const NewUser = new FormData();\n\n  NewUser.set('name', values.name);\n  NewUser.set('token', values.registerToken);\n  NewUser.set('type', values.type);\n  NewUser.set('password', values.password);\n  NewUser.set('password_confirmation', values.password_confirmation);\n  values.url && NewUser.set('url', values.url);\n  values.phone && NewUser.set('phone', values.phone);\n  values.description && NewUser.set('description', values.description);\n  values.img && NewUser.set('img', values.img);\n\n  return axiosInstance.post('register', NewUser);\n}\n\nconst sendEmailToResetPassword = (email: string) => {\n  const Credentials = new FormData();\n\n  Credentials.set('email', email);\n\n  return axiosInstance.post('password/email', Credentials);\n};\n\nconst isResetTokenValid = (token: string) => {\n  const Credentials = new FormData();\n\n  Credentials.set('token', token);\n\n  return axiosInstance.post('password/validate-token', Credentials);\n};\n\nconst resetPassword = (values: IRecoveryPasswordFormValues) => {\n  const Credentials = new FormData();\n\n  Credentials.set('token', values.token);\n  Credentials.set('password', values.password);\n  Credentials.set('password_confirmation', values.password_confirmation);\n\n  return axiosInstance.post('password/reset', Credentials);\n};\n\nconst isInvitationTokenValid = (token: string) => {\n  const Credentials = new FormData();\n\n  Credentials.set('token', token);\n\n  return axiosInstance.post('subscription/check-token', Credentials);\n}\n\nconst AUTH_API = {\n  login,\n  register,\n  sendEmailForRegister,\n  isRegisterTokenValid,\n  resetPassword,\n  isResetTokenValid,\n  sendEmailToResetPassword,\n  isInvitationTokenValid\n};\n\nexport default AUTH_API;","import classModifier from '../../utils/classModifier';\n\nimport './AuthPage.scss';\n\ninterface IAuthPage {\n  title: string;\n  description?: string;\n  children: JSX.Element;\n  isTextAutoHeight?: boolean;\n}\n\nconst AuthPage = (props: IAuthPage) => {\n  console.log('AuthPage Render');\n  return (\n    <div className=\"auth-page\">\n      <header className=\"auth-page__header\">\n        <div className=\"auth-page__logo-wrap\">\n          Logotype\n        </div>\n\n        <h1 className=\"auth-page__title\">{props.title}</h1>\n\n        {props.description &&\n          <div className={classModifier('auth-page__text', [!!props.isTextAutoHeight && 'auto-height'])}>\n            {props.description}\n          </div>\n        }\n      </header>\n\n      {props.children}\n    </div>\n  );\n}\n\nexport default AuthPage;","import { useRef, useState } from \"react\";\nimport { Field, Form } from \"react-final-form\";\nimport { Link, useLocation } from \"react-router-dom\";\n\nimport { ROUTES } from \"../../../config/constants\";\nimport { useDidMount } from \"../../../hooks\";\nimport validateFormValues from \"../../../utils/validateFormValues\";\nimport AUTH_API from \"../../../api/auth-api\";\n\nimport FormTextInput from \"../../../components/FormTextInput\";\nimport AsyncBtn from \"../../../components/AsyncBtn/AsyncBtn\";\nimport AuthPage from \"../AuthPage\";\n\nexport interface ILoginFormValues {\n  email: string;\n  password: string;\n}\n\nconst LoginPage = () => {\n  const location = useLocation();\n\n  const firstInputRef = useRef<HTMLInputElement>(null);\n\n  const [serverErrors, setServerErrors] = useState({});\n  const [pending, setPending] = useState(false);\n\n  useDidMount(() => {\n    if (firstInputRef.current) {\n      firstInputRef.current.focus();\n    }\n  })\n\n  const loginUser = (values: ILoginFormValues) => {\n    setPending(true);\n\n    console.log('submit login', values);\n    AUTH_API.login(values)\n      .then(res => {\n        localStorage.token = res.data.token;\n\n        const invitationToken = new URLSearchParams(location.search).get('invitationToken');\n\n        if (invitationToken) {\n          window.location.href = (ROUTES.invitation + '?invitationToken=' + invitationToken);\n        }\n        else {\n          window.location.href = ROUTES.main;\n        }\n      })\n      .catch((err) => {\n        setServerErrors(err.response.data);\n        setPending(false);\n      })\n  }\n\n\n  console.log('LoginPage Render');\n  return (\n    <AuthPage\n      title=\"Login\"\n      description=\"Sign in to continue\"\n    >\n      <>\n        <Form\n          onSubmit={loginUser}\n          validate={validate}\n        >\n          {({ handleSubmit, submitting }) => (\n            <form\n              onSubmit={handleSubmit}\n            >\n\n              <div className=\"form-group\">\n                <label className=\"label label--required\">Email Address</label>\n                <Field\n                  name=\"email\"\n                  type=\"email\"\n                  inputRef={firstInputRef}\n                  className=\"input\"\n                  errorInputClass=\"input--error\"\n                  errorClass=\"form-group__error\"\n                  component={FormTextInput}\n                  placeholder=\"Email\"\n                  serverErrors={serverErrors}\n                />\n              </div>\n\n              <div className=\"form-group\">\n                <label className=\"label label--required\">Password</label>\n                <Field\n                  name=\"password\"\n                  type=\"password\"\n                  component={FormTextInput}\n                  placeholder=\"Password\"\n                  className=\"input\"\n                  errorInputClass=\"input--error\"\n                  errorClass=\"form-group__error\"\n                  serverErrors={serverErrors}\n                />\n              </div>\n\n              <Link\n                to={ROUTES.recovery}\n                className=\"link\"\n              >\n                Forgot password?\n              </Link>\n\n              <div className=\"auth-page__btns\">\n                <AsyncBtn\n                  type=\"submit\"\n                  className=\"btn btn--primary\"\n                  spinnerSize=\"18px\"\n                  pending={pending}\n                  disabled={submitting}\n                >\n                  Login\n                </AsyncBtn>\n              </div>\n            </form>\n          )}\n        </Form>\n\n        <footer className=\"auth-page__footer\">\n          Don't have an account?&nbsp;\n          <Link\n            to={ROUTES.register}\n            className=\"link\"\n          >\n            Sign Up\n          </Link>\n        </footer>\n      </>\n    </AuthPage>\n  );\n}\n\nconst validate = (values: ILoginFormValues) => {\n  const { password, email } = values;\n  const errors: any = {};\n\n  if (validateFormValues.isEmpty(email)) {\n    errors.email = 'Enter the email';\n  }\n  else if (!validateFormValues.isEmail(email)) {\n    errors.email = 'Incorrect email';\n  }\n\n  if (validateFormValues.isEmpty(password)) {\n    errors.password = 'Enter the password';\n  }\n\n  return errors;\n};\n\nexport default LoginPage;","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M67.08 55.589c5.915-4.914 9.69-12.32 9.69-20.594 0-14.761-12.01-26.769-26.771-26.769S23.23 20.234 23.23 34.995c0 8.273 3.774 15.678 9.687 20.592C20.876 62 13.226 75.224 13.226 90.012c0 .974.788 1.762 1.762 1.762s1.762-.788 1.762-1.762c0-14.144 7.64-26.668 19.478-32.103 4.029 2.431 8.731 3.857 13.77 3.857 5.029 0 9.722-1.42 13.747-3.842 11.857 5.439 19.503 17.906 19.503 32.088 0 .974.788 1.762 1.762 1.762s1.762-.788 1.762-1.762c.002-14.825-7.639-28.006-19.692-34.423zm-17.081 2.652c-12.818 0-23.244-10.429-23.244-23.246S37.182 11.75 49.999 11.75c12.819 0 23.246 10.427 23.246 23.244S62.818 58.241 49.999 58.241z\"\n});\n\nfunction SvgAgent(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 100 125\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgAgent);\nexport default __webpack_public_path__ + \"static/media/agent.833982ab.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M22.7681 6.99921L12.9999.468002 3.23169 6.99921V25.5866H22.7681V6.99921zM14.7939 24.0266h-3.588v-3.7154h3.588v3.7154zm6.4142 0h-4.8542v-5.2754H9.64589v5.2754h-4.8542V7.83121L12.9999 2.34l8.2082 5.49121V24.0266z\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M6.9082 12.1082h5.6836V7.45938H6.9082v4.64882zm1.56-3.08882h2.5636v1.52882H8.4682V9.01938zm10.6236-1.56h-5.6836v4.64882h5.6836V7.45938zm-1.56 3.08882h-2.5636V9.01938h2.5636v1.52882zm-10.6236 7.28h5.6836v-4.6488H6.9082v4.6488zm1.56-3.0888h2.5636v1.5288H8.4682v-1.5288zm10.6236-1.56h-5.6836v4.6488h5.6836v-4.6488zm-1.56 3.0888h-2.5636v-1.5288h2.5636v1.5288z\"\n});\n\nfunction SvgAgency(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgAgency);\nexport default __webpack_public_path__ + \"static/media/agency.582bc310.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"defs\", null);\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M31.008 6.154H18.054a3.793 3.793 0 00-3.604-2.55h-5.1c-1.666 0-3.06 1.054-3.604 2.55H2.992c-.714 0-1.292.578-1.292 1.292v21.692c0 .714.578 1.292 1.292 1.292h28.05c.714 0 1.292-.578 1.292-1.292V7.446c-.034-.714-.612-1.292-1.326-1.292zm-21.658 0h5.1a1.291 1.291 0 110 2.584h-5.1a1.291 1.291 0 110-2.584zm20.4 21.692H4.25V8.704h1.496a3.793 3.793 0 003.604 2.55h5.1c1.666 0 3.06-1.054 3.604-2.55H29.75v19.142z\"\n});\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M17 12.546a6.385 6.385 0 00-6.392 6.392c0 3.536 2.856 6.358 6.392 6.358a6.385 6.385 0 006.392-6.392c0-3.536-2.856-6.358-6.392-6.358zm0 10.2a3.802 3.802 0 01-3.808-3.808c0-2.108 1.7-3.808 3.808-3.808 2.108 0 3.808 1.7 3.808 3.808 0 2.108-1.7 3.808-3.808 3.808z\"\n});\n\nfunction SvgCamera(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"#000\",\n    viewBox: \"0 0 34 34\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3, _ref4);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgCamera);\nexport default __webpack_public_path__ + \"static/media/camera.18ee6071.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"defs\", null);\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M4 .7a.6.6 0 00-.6.6v2.1H1.3a.6.6 0 100 1.2h2.1v2.1a.6.6 0 001.2 0V4.6h2.1a.6.6 0 000-1.2H4.6V1.3A.6.6 0 004 .7z\"\n});\n\nfunction SvgPlus(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"#000\",\n    viewBox: \"0 0 8 8\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgPlus);\nexport default __webpack_public_path__ + \"static/media/plus.33644f38.svg\";\nexport { ForwardRef as ReactComponent };","import { useRef, useState } from \"react\";\nimport { Field, Form } from \"react-final-form\";\nimport { Link } from \"react-router-dom\";\n\nimport { ROUTES } from \"../config/constants\";\nimport { useDidMount } from \"../hooks\";\nimport validateFormValues from \"../utils/validateFormValues\";\n\nimport AsyncBtn from \"./AsyncBtn/AsyncBtn\";\nimport FormTextInput from \"./FormTextInput\";\n\ninterface IEmailFormProps {\n  linkText: string;\n  onSubmit: (email: string) => Promise<any>;\n}\n\ninterface IEmailFormValues {\n  email: string;\n}\n\nconst EmailForm = (props: IEmailFormProps) => {\n  const firstInputRef = useRef<HTMLInputElement>(null);\n\n  const [serverErrors, setServerErrors] = useState({});\n  const [pending, setPending] = useState(false);\n\n  useDidMount(() => {\n    if (firstInputRef.current) {\n      firstInputRef.current.focus();\n    }\n  });\n\n  const onSubmit = (values: IEmailFormValues) => {\n    setPending(true);\n\n    props.onSubmit(values.email)\n      .catch((err) => {\n        setServerErrors(err.response.data.errors);\n        setPending(false);\n      });\n  }\n\n  console.log('EmailForm Render');\n  return (\n    <Form\n      onSubmit={onSubmit}\n      validate={validate}\n    >\n      {({ handleSubmit, submitting }) => {\n        return (\n          <form\n            onSubmit={handleSubmit}\n          >\n            <div className=\"form-group\">\n              <label className=\"label label--required\">Email Address</label>\n              <Field\n                name=\"email\"\n                type=\"email\"\n                inputRef={firstInputRef}\n                className=\"input\"\n                errorInputClass=\"input--error\"\n                errorClass=\"form-group__error\"\n                component={FormTextInput}\n                placeholder=\"Email\"\n                serverErrors={serverErrors}\n              />\n            </div>\n\n            <Link\n              to={ROUTES.login}\n              className=\"link\"\n            >\n              {props.linkText}\n            </Link>\n\n            <div className=\"auth-page__btns\">\n              <AsyncBtn\n                type=\"submit\"\n                className=\"btn btn--primary\"\n                spinnerSize=\"18px\"\n                pending={pending}\n                disabled={submitting}\n              >\n                Send instructions\n              </AsyncBtn>\n            </div>\n          </form>\n        )\n      }}\n    </Form>\n  );\n}\n\nconst validate = ({ email }: IEmailFormValues) => {\n  const errors: any = {};\n\n  if (validateFormValues.isEmpty(email)) {\n    errors.email = 'Enter the email';\n  }\n  else if (!validateFormValues.isEmail(email)) {\n    errors.email = 'Incorrect email';\n  }\n\n  return errors;\n};\n\nexport default EmailForm;","import React, { useState } from 'react';\nimport { ValidationErrors } from \"final-form\";\nimport { Form } from \"react-final-form\";\n\nimport { IAnyObject } from '../../interfaces/interfaces';\n\nimport AsyncBtn from '../AsyncBtn/AsyncBtn';\n\ninterface IFormWizardProps {\n  validate?: ((values: any) => ValidationErrors | Promise<ValidationErrors> | undefined) | undefined;\n  onSubmit: (values: any) => Promise<any>;\n  initialValues?: IAnyObject;\n  onNextPage: (page: number) => void;\n  onPrevPage: (page: number) => void;\n  submitPending: boolean;\n  setSubmitPending: (value: boolean) => void;\n}\n\nconst FormWizard: React.FC<IFormWizardProps> & { Page: any } = ({ children, ...props }) => {\n  const [page, setPage] = useState(0);\n\n  const onPrevPage = () => {\n    const newPage = Math.max(page - 1, 0);\n\n    setPage(newPage);\n    props.onPrevPage(newPage);\n  }\n  const onNextPage = () => {\n    const newPage = Math.min(page + 1, React.Children.count(children) - 1);\n\n    setPage(newPage);\n    props.onNextPage(newPage);\n  }\n\n  const activePage = React.Children.toArray(children)[page];\n  const isLastPage = page === React.Children.count(children) - 1;\n\n  const validate = (values: any) => {\n    const activePage = React.Children.toArray(children)[page];\n    // @ts-ignore\n    return activePage.props.validate ? activePage.props.validate(values) : {}\n  }\n\n  const onSubmit = (values: Record<string, any>) => {\n    if (isLastPage) {\n      props.setSubmitPending(true);\n      \n      return props.onSubmit(values);\n    }\n    return onNextPage();\n  }\n\n  console.log('FormWizard Render');\n  return (\n    <Form\n      initialValues={props.initialValues}\n      validate={validate}\n      onSubmit={onSubmit}\n    >\n      {({ handleSubmit, submitting }) => (\n        <form onSubmit={handleSubmit}>\n          {activePage}\n          <div className=\"auth-page__btns\">\n            {isLastPage\n              ? (\n                <AsyncBtn\n                  type=\"submit\"\n                  className=\"btn btn--primary\"\n                  spinnerSize=\"18px\"\n                  pending={props.submitPending}\n                  disabled={submitting}\n                >\n                  Submit\n                </AsyncBtn>\n              ) :\n              <button\n                className=\"btn btn--primary\"\n                type=\"submit\"\n              >\n                Continue\n              </button>\n            }\n\n            {page > 1 && (\n              <button\n                type=\"button\" onClick={onPrevPage}\n                className=\"btn btn--secondary\"\n              >\n                Back\n              </button>\n            )}\n          </div>\n        </form>\n      )}\n    </Form>\n  );\n}\n\nFormWizard.Page = ({ children }: { children: React.ReactChildren }) => children;\nFormWizard.Page.displayName = 'FormWizard.Page';\n\nexport default FormWizard;","import { useRef, useState, useEffect } from \"react\";\nimport { useLocation, useNavigate } from \"react-router-dom\";\nimport { Field } from \"react-final-form\";\n\nimport { ROUTES } from \"../../../config/constants\";\nimport { useDidMount, useDidUpdate, usePrevious, useToggle } from \"../../../hooks\";\nimport classModifier from \"../../../utils/classModifier\";\nimport AUTH_API from \"../../../api/auth-api\";\nimport { IRecoveryPasswordFormValues } from \"../RecoveryPage/RecoveryPasswordForm\";\nimport validateFormValues from \"../../../utils/validateFormValues\";\n\nimport './RegisterPage.scss';\nimport { ReactComponent as AgentIcon } from '../../../icons/agent.svg';\nimport { ReactComponent as AgencyIcon } from '../../../icons/agency.svg';\nimport { ReactComponent as CameraIcon } from '../../../icons/camera.svg';\nimport { ReactComponent as PlusIcon } from '../../../icons/plus.svg';\nimport { ReactComponent as TrashIcon } from '../../../icons/trash.svg';\nimport EmailForm from \"../../../components/EmailForm\";\nimport AuthPage from \"../AuthPage\";\nimport GlobalPreloader from \"../../../components/GlobalPreloader/GlobalPreloader\";\nimport FormWizard from \"../../../components/FormWizard/FormWizard\";\nimport FormTextInput from \"../../../components/FormTextInput\";\nimport FormTextTextarea from \"../../../components/FormTextarea\";\nimport LazyLoadImage from \"../../../components/LazyLoadImage/LazyLoadImage\";\nimport ImgCropper from '../../../components/ImgCropper/ImgCropper';\nimport DelayedComponent from '../../../components/DelayedComponent/DelayedComponent';\n\nconst pageTitles: { [key: string]: { title: string, description: string } } = {\n  100: {\n    title: \"Registration\",\n    description: \"Sign un to get started\"\n  },\n  200: {\n    title: \"Check your mail\",\n    description: \"We have sent a confirmation link to your email\"\n  },\n  0: {\n    title: \"Select password\",\n    description: \"Please enter the password. Avoid using the same password everywhere\"\n  },\n  1: {\n    title: \"Choose your account type\",\n    description: \"Select your account type according to your needs.\"\n  },\n  2: {\n    title: \"Create account\",\n    description: \"We have sent a confirmation link to your email\"\n  },\n};\n\nexport interface IRegisterFormValues {\n  name: string;\n  registerToken: string;\n  type: string;\n  password: string;\n  password_confirmation: string;\n  img?: Blob;\n  url?: string;\n  phone?: string;\n  description?: string;\n}\n\nconst RegisterPage = () => {\n  let navigate = useNavigate();\n  let location = useLocation();\n\n  const firstInputRef = useRef<HTMLInputElement>(null);\n  const imageInputRef = useRef<HTMLInputElement>(null);\n\n  const [pagePending, setPagePending] = useState(true);\n  const [submitPending, setSubmitPending] = useState(false);\n  const [page, setPage] = useState(100);\n  const [registerToken, setRegisterToken] = useState('');\n  const [email, setEmail] = useState('');\n  const [serverErrors, setServerErrors] = useState({});\n  const [userType, setUserType] = useState(\"1\");\n  const [isAvaCropPage, setIsAvaCropPage] = useToggle(false);\n  const [cropperPhotoUrl, setCropperPhotoUrl] = useState<null | string>(null);\n  const [avatarPhoto, setAvatarPhoto] = useState<{ url: null | string; file: null | File | Blob }>({\n    url: null,\n    file: null\n  })\n\n  const prevAvatarPhotoUrl = usePrevious(avatarPhoto.url);\n\n  useDidMount(() => {\n    const registerToken = new URLSearchParams(location.search).get('registerToken');\n\n    if (registerToken) {\n      AUTH_API.isRegisterTokenValid(registerToken)\n        .then(({ data }) => {\n          setRegisterToken(registerToken);\n          setEmail(data);\n          setPage(0);\n        })\n        .finally(() => setPagePending(false));\n    }\n    else {\n      setPagePending(false);\n    }\n  });\n\n  useEffect(() => {\n    return () => {\n      avatarPhoto.url && URL.revokeObjectURL(avatarPhoto.url);\n    }\n  }, [avatarPhoto.url]);\n\n  useDidUpdate(() => {\n    if (prevAvatarPhotoUrl) {\n      URL.revokeObjectURL(prevAvatarPhotoUrl);\n    }\n  }, [avatarPhoto.url]);\n\n  useDidUpdate(() => {\n    if (firstInputRef.current) {\n      firstInputRef.current.focus();\n    }\n  }, [page]);\n\n  const sendEmailToRegister = (email: string) => {\n    return AUTH_API.sendEmailForRegister(email)\n      .then(res => {\n        console.log(res);\n        setPage(200)\n      });\n  };\n\n  const registerUser = (values: IRegisterFormValues) => {\n    if (avatarPhoto.file) {\n      values.img = avatarPhoto.file;\n    }\n\n    return AUTH_API.register(values)\n      .then(({ data }) => {\n        localStorage.token = data.token;\n        localStorage.successRegisterModal = true;\n\n        const invitationToken = new URLSearchParams(location.search).get('invitationToken');\n\n        if (invitationToken) {\n          window.location.href = (ROUTES.invitation + '?invitationToken=' + invitationToken);\n        }\n        else {\n          window.location.href = ROUTES.main;\n        }\n      })\n      .catch((err) => {\n        setSubmitPending(false);\n        setServerErrors(err.response.data.errors);\n        console.log(err);\n      })\n  }\n\n  const deletePhoto = () => {\n    if (window.confirm('Delete photo?')) {\n      setAvatarPhoto({ url: null, file: null })\n    }\n  }\n\n  const triggerImageSelectPopup = () => imageInputRef.current?.click();\n\n  const onSelectImage = (e: React.ChangeEvent<HTMLInputElement>) => {\n    if (e.target.files && e.target.files.length > 0) {\n      const file = e.target.files[0];\n      const reader = new FileReader();\n\n      reader.onloadend = () => {\n        if (file.type.startsWith('image')) {\n          setPhotoHandler(file);\n          setIsAvaCropPage(true);\n        }\n      };\n\n      reader.readAsDataURL(file);\n    }\n  }\n\n  const setPhotoHandler = (file: File) => {\n    const url = URL.createObjectURL(file)\n\n    setCropperPhotoUrl(url);\n\n    //Delay for that the image not appear while the animation is in progress \n    setTimeout(() => {\n      setAvatarPhoto({ file: file, url });\n    }, 500)\n  }\n\n  const onCrop = (file: Blob) => {\n    setIsAvaCropPage(false);\n    setAvatarPhoto({ file: file, url: URL.createObjectURL(file) });\n  }\n\n  const onCancel = () => {\n    setIsAvaCropPage(false);\n  }\n\n  const renderSuccessWindow = () => (\n    <>\n      <div className=\"auth-page__btns\">\n        <button\n          className=\"btn btn--primary\"\n          onClick={() => navigate(ROUTES.login)}\n        >\n          Done\n        </button>\n      </div>\n\n      <footer className=\"auth-page__footer\">\n        Did not receive the email? Check your spam filter, or\n        <button\n          className=\"link\"\n          onClick={() => setPage(100)}\n        >\n          Try another email address\n        </button>\n      </footer>\n    </>\n  );\n\n  const renderComponent = (): JSX.Element => {\n    if (page === 100) {\n      return <EmailForm linkText=\"Already have an account?\" onSubmit={sendEmailToRegister} />;\n    }\n    if (page === 200) {\n      return renderSuccessWindow();\n    }\n    else {\n      return <FormWizard\n        onSubmit={registerUser}\n        initialValues={{ registerToken, type: \"1\" }}\n        onNextPage={setPage}\n        onPrevPage={setPage}\n        submitPending={submitPending}\n        setSubmitPending={setSubmitPending}\n      >\n        <FormWizard.Page\n          validate={validatePasswords}\n        >\n          <div className=\"form-group\">\n            <label className=\"label label--required\">Password</label>\n\n            <Field\n              name=\"password\"\n              type=\"password\"\n              className=\"input\"\n              errorInputClass=\"input--error\"\n              errorClass=\"form-group__error\"\n              component={FormTextInput}\n              inputRef={firstInputRef}\n              placeholder=\"Password\"\n              serverErrors={serverErrors}\n            />\n          </div>\n\n          <div className=\"form-group\">\n            <label className=\"label label--required\">Repeat Password</label>\n\n            <Field\n              name=\"password_confirmation\"\n              type=\"password\"\n              className=\"input\"\n              errorInputClass=\"input--error\"\n              errorClass=\"form-group__error\"\n              component={FormTextInput}\n              placeholder=\"Confirm Password\"\n              serverErrors={serverErrors}\n            />\n          </div>\n        </FormWizard.Page>\n\n        <FormWizard.Page>\n          <div className=\"register-page__labels\">\n            <label className=\"register-page__label\">\n              <div className=\"register-page__label-img\">\n                <AgentIcon />\n              </div>\n\n              Agent\n\n              <Field\n                name=\"type\"\n                type=\"radio\"\n                value=\"1\"\n                render={props => (\n                  <input\n                    {...props.input}\n                    className=\"register-page__radio\"\n                    onChange={(e) => { props.input.onChange(e); setUserType(e.target.value) }}\n                  />\n                )}\n              />\n              <span className=\"register-page__checkmark\"></span>\n            </label>\n\n            <label className=\"register-page__label\">\n              <div className=\"register-page__label-img\">\n                <AgencyIcon />\n              </div>\n\n              Agency\n\n              <Field\n                name=\"type\"\n                type=\"radio\"\n                value=\"2\"\n                render={props => (\n                  <input\n                    {...props.input}\n                    className=\"register-page__radio\"\n                    onChange={(e) => { props.input.onChange(e); setUserType(e.target.value) }}\n                  />\n                )}\n              />\n              <span className=\"register-page__checkmark\"></span>\n            </label>\n          </div>\n        </FormWizard.Page>\n\n        <FormWizard.Page\n          validate={validateMainInfo}\n        >\n          <DelayedComponent\n            isMount={isAvaCropPage}\n            delayUnmountTime={100}\n          >\n            <div className={classModifier('register-page-cropper', [isAvaCropPage && 'open'])}>\n              <AuthPage title=\"Crop Image\">\n                <div className=\"register-page-cropper__cropper\">\n                  <ImgCropper\n                    image={cropperPhotoUrl || ''}\n                    onCrop={onCrop}\n                    onCancel={onCancel}\n                    aspect={1}\n                    cropShape={'round'}\n                    classPrefix=\"avatar-cropper\"\n                  />\n                </div>\n              </AuthPage>\n            </div>\n          </DelayedComponent>\n\n          <div className=\"register-page__avatar-select\">\n            <div className=\"register-page__avatar\">\n              {avatarPhoto.url\n                ? (\n                  <>\n                    <LazyLoadImage src={avatarPhoto.url} classPrefix=\"round-img\" alt=\"avatar\" />\n\n                    <button\n                      className=\"register-page__avatar-icon\"\n                      type=\"button\"\n                      onClick={deletePhoto}\n                    >\n                      <TrashIcon />\n                    </button>\n                  </>\n                ) : (\n                  <div className=\"avatar-preview round-img\">\n                    <div className=\"avatar-preview__icons\">\n                      <div className=\"avatar-preview__icon avatar-preview__icon--camera\"><CameraIcon /></div>\n                      <div className=\"avatar-preview__icon avatar-preview__icon--plus\"><PlusIcon /></div>\n                    </div>\n                  </div>\n                )\n              }\n            </div>\n\n            <div className=\"register-page__avatar-btn-wrap\">\n              <input\n                type=\"file\"\n                accept=\"image/*\"\n                ref={imageInputRef}\n                onChange={onSelectImage}\n                onClick={() => imageInputRef.current && (imageInputRef.current.value = '')}\n                style={{ display: 'none' }}\n              />\n\n              <button\n                className=\"register-page__avatar-btn\"\n                onClick={triggerImageSelectPopup}\n                type=\"button\"\n              >\n                Choose Avatar\n              </button>\n            </div>\n          </div>\n\n          <div className=\"form-group\">\n            <label className=\"label label--required\">\n              {userType === \"1\" ? \"Full Name\" : \"Agency Name\"}\n            </label>\n\n            <Field\n              name=\"name\"\n              className=\"input\"\n              errorInputClass=\"input--error\"\n              errorClass=\"form-group__error\"\n              component={FormTextInput}\n              inputRef={firstInputRef}\n              placeholder=\"Full Name\"\n              serverErrors={serverErrors}\n            />\n          </div>\n\n          <div className=\"form-group\">\n            <label className=\"label label--optional\">Phone</label>\n\n            <Field\n              name=\"phone\"\n              type=\"tel\"\n              className=\"input\"\n              errorInputClass=\"input--error\"\n              errorClass=\"form-group__error\"\n              component={FormTextInput}\n              placeholder=\"Phone number\"\n              serverErrors={serverErrors}\n            />\n          </div>\n\n          {userType === \"2\" &&\n            <div className=\"form-group\">\n              <label className=\"label label--optional\">\n                Website\n              </label>\n\n              <Field\n                name=\"site\"\n                className=\"input\"\n                errorInputClass=\"input--error\"\n                errorClass=\"form-group__error\"\n                component={FormTextInput}\n                placeholder=\"URL Website\"\n                serverErrors={serverErrors}\n              />\n            </div>\n          }\n\n          <div className=\"form-group\">\n            <label className=\"label label--optional\">\n              {userType === \"1\" ? \"About Me\" : \"About Us\"}\n            </label>\n\n            <Field\n              name=\"description\"\n              className=\"register-page__textarea textarea input\"\n              errorInputClass=\"input--error\"\n              errorClass=\"form-group__error\"\n              component={FormTextTextarea}\n              rows={3}\n              placeholder=\"Description\"\n              serverErrors={serverErrors}\n            />\n          </div>\n        </FormWizard.Page>\n      </FormWizard>\n    }\n  }\n\n  if (pagePending) {\n    return <GlobalPreloader spinnerSize=\"120px\" />\n  }\n\n  console.log('RegisterPage Render', email, setServerErrors);\n  return (\n    <AuthPage\n      {...pageTitles[page]}\n      isTextAutoHeight={page === 2 ? true : false}\n    // title={pageTitles[page].title}\n    // description={pageTitles[page].description + ' ' + email}\n    >\n      <div className=\"register-page\">{renderComponent()}</div>\n    </AuthPage>\n  );\n}\n\nconst validatePasswords = ({ password, password_confirmation }: IRecoveryPasswordFormValues) => {\n  const errors: any = {};\n\n  if (validateFormValues.isEmpty(password)) {\n    errors.password = 'Enter the password';\n  }\n  if (password && password.length < 6) {\n    errors.password = 'The new password must be at least 6 characters';\n  }\n  if (password && validateFormValues.isEmpty(password_confirmation)) {\n    errors.password_confirmation = 'Enter the password again';\n  }\n  if (password && password !== password_confirmation) {\n    errors.password_confirmation = 'Passwords are not match';\n  }\n  return errors;\n}\n\nconst validateMainInfo = ({ name }: { name: string }) => {\n  const errors: any = {};\n\n  if (validateFormValues.isEmpty(name)) {\n    errors.name = 'This field can`t be empty';\n  }\n  return errors;\n}\n\nexport default RegisterPage;","import { useRef, useState } from \"react\";\nimport { useDispatch } from 'react-redux';\nimport { Field, Form } from \"react-final-form\";\nimport { Link } from \"react-router-dom\";\n\nimport { ROUTES } from \"../../../config/constants\";\nimport validateFormValues from \"../../../utils/validateFormValues\";\nimport { useDidMount } from \"../../../hooks\";\nimport AUTH_API from \"../../../api/auth-api\";\nimport { openModal, MODAL_TYPES } from '../../../redux/ducks/activeWindows';\n\nimport AsyncBtn from \"../../../components/AsyncBtn/AsyncBtn\";\nimport FormTextInput from \"../../../components/FormTextInput\";\nexport interface IRecoveryPasswordFormValues {\n  password: string;\n  password_confirmation: string;\n  token: string;\n}\n\nconst RecoveryPasswordForm = ({ recoveryToken }: { recoveryToken: string }) => {\n  let dispatch = useDispatch();\n\n  const firstInputRef = useRef<HTMLInputElement>(null);\n\n  const [serverErrors, setServerErrors] = useState({});\n  const [pending, setPending] = useState(false);\n\n  useDidMount(() => {\n    if (firstInputRef.current) {\n      firstInputRef.current.focus();\n    }\n  });\n\n  const resetPassword = (values: IRecoveryPasswordFormValues) => {\n    setPending(true);\n\n    AUTH_API.resetPassword(values)\n      .then(() => {\n        dispatch(openModal(MODAL_TYPES.successPasswordRecoveryModal));\n      })\n      .catch((err) => {\n        setServerErrors(err.response.data.errors);\n        setPending(false);\n      });\n  }\n\n  console.log('RecoveryPasswordForm Render');\n  return (\n    <Form\n      onSubmit={resetPassword}\n      initialValues={{ token: recoveryToken }}\n      validate={validate}\n    >\n      {({ handleSubmit, submitting }) => {\n        return (\n          <form\n            onSubmit={handleSubmit}\n          >\n            <div className=\"form-group\">\n              <label className=\"label label--required\">Password</label>\n              <Field\n                name=\"password\"\n                type=\"password\"\n                className=\"input\"\n                errorInputClass=\"input--error\"\n                errorClass=\"form-group__error\"\n                component={FormTextInput}\n                inputRef={firstInputRef}\n                placeholder=\"Password\"\n                serverErrors={serverErrors}\n              />\n            </div>\n\n            <div className=\"form-group\">\n              <label className=\"label label--required\">Confirm Password</label>\n              <Field\n                name=\"password_confirmation\"\n                type=\"password\"\n                className=\"input\"\n                errorInputClass=\"input--error\"\n                errorClass=\"form-group__error\"\n                component={FormTextInput}\n                placeholder=\"Confirm Password\"\n                serverErrors={serverErrors}\n              />\n            </div>\n\n            <Link\n              to={ROUTES.login}\n              className=\"link\"\n            >\n              Back to Sign In\n            </Link>\n\n            <div className=\"auth-page__btns\">\n              <AsyncBtn\n                type=\"submit\"\n                className=\"btn btn--primary\"\n                spinnerSize=\"18px\"\n                pending={pending}\n                disabled={submitting}\n              >\n                Reset password\n              </AsyncBtn>\n            </div>\n          </form>\n        )\n      }}\n    </Form>\n  );\n}\n\nconst validate = ({ password, password_confirmation }: IRecoveryPasswordFormValues) => {\n  const errors: any = {};\n\n  if (validateFormValues.isEmpty(password)) {\n    errors.password = 'Enter the password';\n  }\n  if (password && password.length < 6) {\n    errors.password = 'The new password must be at least 6 characters';\n  }\n  if (password && validateFormValues.isEmpty(password_confirmation)) {\n    errors.password_confirmation = 'Enter the password again';\n  }\n  if (password && password !== password_confirmation) {\n    errors.password_confirmation = 'Passwords are not match';\n  }\n\n  return errors;\n};\n\nexport default RecoveryPasswordForm;","\nimport { useState } from \"react\";\nimport { useLocation, useNavigate } from \"react-router-dom\";\n\nimport { useDidMount } from \"../../../hooks\";\nimport { ROUTES } from \"../../../config/constants\";\nimport AUTH_API from \"../../../api/auth-api\";\n\nimport AuthPage from \"../AuthPage\";\nimport RecoveryPasswordForm from \"./RecoveryPasswordForm\";\nimport GlobalPreloader from \"../../../components/GlobalPreloader/GlobalPreloader\";\nimport EmailForm from \"../../../components/EmailForm\";\n\nconst pageTitles: { [key: string]: { title: string, description: string } } = {\n  1: {\n    title: \"Reset password\",\n    description: \"Enter the email associated with your account and we'll send an email with instructions to reset password\"\n  },\n  2: {\n    title: \"Check your mail\",\n    description: \"We have sent a password recover instructions to your email\"\n  },\n  3: {\n    title: \"Create new password\",\n    description: \"Your new password must be different from previous used passwords\"\n  },\n}\n\nconst RecoveryPage = () => {\n  let location = useLocation();\n  let navigate = useNavigate();\n\n  const [pagePending, setPagePending] = useState(true);\n  const [recoveryToken, setRecoveryToken] = useState('');\n  const [page, setPage] = useState(1);\n\n  useDidMount(() => {\n    const resetToken = new URLSearchParams(location.search).get('resetToken');\n\n    if (resetToken) {\n      AUTH_API.isResetTokenValid(resetToken)\n        .then(() => {\n          setRecoveryToken(resetToken)\n          setPagePending(false);\n          setPage(3);\n        })\n        .catch(() => {\n          setPagePending(false);\n        })\n    }\n    else {\n      setPagePending(false);\n    }\n  });\n\n  const onSubmit = (email: string) => {\n    return AUTH_API.sendEmailToResetPassword(email)\n      .then(() => setPage(2));\n  }\n\n  const renderSuccessWindow = () => (\n    <>\n      <div className=\"auth-page__btns\">\n        <button\n          className=\"btn btn--primary\"\n          onClick={() => navigate(ROUTES.login)}\n        >\n          Done\n        </button>\n      </div>\n\n      <footer className=\"auth-page__footer\">\n        Did not receive the email? Check your spam filter, or\n        <button\n          className=\"link\"\n          onClick={() => setPage(1)}\n        >\n          Try another email address\n        </button>\n      </footer>\n    </>\n  )\n\n  const renderComponent = (): JSX.Element => {\n    if (page === 1) return <EmailForm onSubmit={onSubmit} linkText=\"Back to Sign In\" />;\n    if (page === 2) return renderSuccessWindow();\n    return <RecoveryPasswordForm recoveryToken={recoveryToken} />;\n  }\n\n\n  console.log('RecoveryPage Render');\n\n  if (pagePending) {\n    return <GlobalPreloader spinnerSize=\"120px\" />\n  }\n\n  return (\n    <AuthPage\n      {...pageTitles[page]}\n    >\n      {renderComponent()}\n    </AuthPage>\n  );\n}\n\n\n\nexport default RecoveryPage;","import { useLocation, useNavigate } from \"react-router-dom\";\nimport { useDispatch } from \"react-redux\";\n\nimport { ROUTES } from \"../../config/constants\";\nimport { useDidMount } from \"../../hooks\";\n\nimport GlobalPreloader from \"../../components/GlobalPreloader/GlobalPreloader\";\nimport AUTH_API from \"../../api/auth-api\";\nimport { MODAL_TYPES, openModal } from \"../../redux/ducks/activeWindows\";\n\nconst InvitationPage = () => {\n  let location = useLocation();\n  let navigate = useNavigate();\n\n  const dispatch = useDispatch();\n\n  useDidMount(() => {\n    const invitationToken = new URLSearchParams(location.search).get('invitationToken');\n\n    if (invitationToken) {\n      AUTH_API.isInvitationTokenValid(invitationToken)\n        .then(({ data }) => {\n          // if already logged in => go to notifications\n          if (data.type === 'goToNotifications') {\n            navigate(ROUTES.notifications);\n          }\n          // if already logged in but wrong account => show modal with next steps: \n          //      - if account exists log-out and log in to another account \n          //      - if not => go to register page\n          else if (data.type === 'logoutAndLogin' || data.type === 'logoutAndRegister') {\n            const type = data.type === 'logoutAndRegister' ? 'register' : 'login';\n\n            dispatch(openModal(MODAL_TYPES.invitationInstructionsModal, {\n              type,\n              invitationToken: invitationToken,\n              registerToken: data.registerToken,\n            }));\n          }\n          // if not logged in => \n          //      - if account exists => login page\n          //      - if not => register page\n          else if (data.type === 'login') {\n            navigate(ROUTES.login);\n          }\n          else if (data.type === 'register') {\n            navigate(ROUTES.register\n              + '?registerToken=' + data.registerToken\n              + '&invitationToken=' + invitationToken\n            );\n          }\n\n          // setPagePending(false);\n        })\n        .catch(() => {\n          console.log('Invitation token not valid');\n          navigate(ROUTES.main);\n        })\n    }\n    else {\n      navigate(ROUTES.login)\n    }\n  });\n\n  console.log('InvitationPage Render');\n  return <GlobalPreloader spinnerSize=\"120px\" />\n}\n\nexport default InvitationPage;\n","import React, { useCallback, useEffect, useState } from 'react';\n\nimport { classModifier } from '../../utils';\n\nimport './Modal.scss';\nimport DelayedComponent from '../DelayedComponent/DelayedComponent';\n\ninterface IModalProps {\n  onClose: () => void;\n  isCloseOutside: boolean;\n}\n\nconst Modal: React.FC<IModalProps> = (props) => {\n  const {\n    onClose,\n    isCloseOutside = true,\n  } = props;\n\n  const [isMount, setMount] = useState(true);\n  const [pending, setPending] = useState(false);\n\n  useEffect(() => {\n    const closeModalOnKeyup = (e: KeyboardEvent) => {\n      if (!pending && (e.key === 'Escape')) {\n        setMount(false);\n\n        onClose();\n      }\n    }\n    document.addEventListener('keyup', closeModalOnKeyup);\n\n    return () => {\n      document.removeEventListener('keyup', closeModalOnKeyup);\n    }\n  }, [pending]);\n\n  const closeModalOnClick = (e: React.MouseEvent) => {\n    if (!isCloseOutside || pending) return;\n\n    if (e.currentTarget === e.target) {\n      closeModal();\n    }\n  }\n\n  const closeModal = useCallback(() => {\n    setMount(false);\n    onClose();\n  }, []);\n\n  return (\n    <DelayedComponent\n      delayUnmountTime={600}\n      isMount={isMount}\n    >\n      <div\n        className={classModifier('modal', [!isMount && 'close'])}\n        onClick={closeModalOnClick}\n      >\n        <div className={classModifier('modal__item', [!isMount && 'close'])}>\n          {(typeof props.children === 'function')\n            ? props.children(closeModal, setPending, pending)\n            : props.children\n          }\n        </div>\n      </div>\n    </DelayedComponent>\n  );\n};\n\nexport default Modal;","import { Suspense, useEffect } from 'react';\nimport ReactDOM from 'react-dom';\nimport { connect } from 'react-redux';\n\nimport { closeModal, MODAL_TYPES } from '../../redux/ducks/activeWindows';\nimport { AppState } from \"../../redux/store\";\nimport { IModal } from \"../../interfaces/interfaces\";\n\nimport './Modals.scss';\nimport Modal from '../../components/Modal/Modal';\nimport Loadable from '../../components/Loadable';\n\n\nconst components = {\n  [MODAL_TYPES.successRegisterModal]: Loadable.SuccessRegisterModal,\n  [MODAL_TYPES.successPasswordChangeModal]: Loadable.SuccessPasswordChangeModal,\n  [MODAL_TYPES.successPasswordRecoveryModal]: Loadable.SuccessPasswordRecoveryModal,\n  [MODAL_TYPES.agentModal]: Loadable.AgentModal,\n  [MODAL_TYPES.inviteMemberModal]: Loadable.InviteMemberModal,\n  [MODAL_TYPES.invitationInstructionsModal]: Loadable.InvitationInstructionsModal,\n  [MODAL_TYPES.deleteAgentModal]: Loadable.DeleteAgentModal,\n  [MODAL_TYPES.deleteInviteModal]: Loadable.DeleteInviteModal,\n  [MODAL_TYPES.deleteAccountModal]: Loadable.DeleteAccountModal,\n  [MODAL_TYPES.declineInviteModal]: Loadable.DeclineInviteModal,\n  [MODAL_TYPES.eventModal]: Loadable.EventModal,\n  [MODAL_TYPES.deleteEventModal]: Loadable.DeleteEventModal,\n};\n\nexport interface IModalsProps {\n  activeModals: IModal[];\n  closeModal: (type?: string) => void;\n}\n\nconst Modals = (props: IModalsProps) => {\n  const {\n    activeModals = [],\n  } = props;\n  \n  useEffect(() => {\n    if(activeModals.length > 0) {\n      document.body.style.overflow = 'hidden';\n    }\n    else {\n      document.body.removeAttribute('style');\n    }\n  }, [activeModals]);\n\n  const modalsRoot = document.getElementById('modals-root');\n\n  const renderComponent = (\n    modal: IModal,\n    pending: boolean,\n    closeModal: () => void, \n    setPending:(pending: boolean) => void, \n  ) => {\n    const Component = components[modal.type];\n\n    return (\n      <Component\n        closeModal={closeModal}\n        setPending={setPending}\n        pending={pending}\n        {...modal.props}\n      />\n    )\n  }\n\n  return (\n    <>\n      {modalsRoot && ReactDOM.createPortal(\n        <Suspense fallback={<div>Loading...</div>}>\n          {activeModals.map((modal: IModal) =>\n            <Modal \n              key={modal.type} \n              onClose={() => props.closeModal(modal.type)} \n              isCloseOutside={modal.props?.isCloseOutside}\n            >\n              {(closeModal: () => void, setPending: (pending: boolean) => void, pending: boolean) => {\n                return renderComponent(modal, pending, closeModal, setPending)\n              }}\n            </Modal>\n          )}\n        </Suspense>,\n        modalsRoot\n      )}\n    </>\n  );\n};\n\nconst mapStateToProps = (state: AppState) => ({\n  activeModals: state.activeWindows.activeModals,\n});\n\nconst mapDispatchToProps = {\n  closeModal,\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Modals);","const protocol = 'wss://';\n// const port = ':9502';\nconst currentHostname = window && window.location && window.location.hostname;\n\nlet socketHostname;\n\nif (currentHostname === 'localhost') {\n  socketHostname = protocol + 'socket.track-agent.agency';\n}\nelse if (currentHostname === 'app.track-agent.agency') {\n  socketHostname = protocol + 'socket.track-agent.agency';\n}\nelse {\n  socketHostname = 'ws://127.0.0.1:8000';\n}\n\nexport const SOCKET_ROOT = `${socketHostname}`;","import { Component } from 'react';\nimport { connect } from 'react-redux';\n\nimport { SOCKET_ROOT } from '../config/socket-config';\nimport { addNotification, removeNotifications } from '../redux/ducks/notifications';\nimport { addAgent, addInvite, deleteInvite } from '../redux/ducks/agents';\nimport { addAgency, deleteAgency } from '../redux/ducks/agencies';\nimport { INotification, IInvite, IAgent, IAgency } from '../interfaces/interfaces';\nimport { setUser } from '../redux/ducks/user';\n\ninterface ISocketProps {\n  addAgent: (agent: IAgent) => void;\n  addAgency: (agency: IAgency) => void;\n  addInvite: (invite: IInvite) => void;\n  deleteInvite: (id: number) => void;\n  deleteAgency: (id: number) => void;\n  setUser: (user: IAgent | IAgency) => void;\n  addNotification: (notification: INotification) => void;\n  removeNotifications: (ids: number[]) => void;\n}\n\nclass Socket extends Component<ISocketProps> {\n  state = {\n    ws: new WebSocket(SOCKET_ROOT)\n  }\n\n  componentDidMount() {\n    this.setupSocket();\n  }\n\n  shouldComponentUpdate() {\n    return false;\n  }\n\n  componentWillUnmount() {\n    const webSocket = this.state.ws;\n\n    webSocket.close();\n  }\n\n  setupSocket = () => {\n    const webSocket = this.state.ws;\n\n    webSocket.onopen = () => {\n      console.log('ChatWebSocket - trying to connect!)');\n\n      webSocket.send(JSON.stringify({ type: 'hello', data: localStorage.token }));\n    };\n\n    webSocket.onclose = () => {\n      console.log('ChatWebSocket disconnected!(');\n    };\n\n    webSocket.onerror = (err) => {\n      console.log('ChatWebSocket error: ', err);\n    };\n\n    webSocket.onmessage = (e: MessageEvent) => {\n      const { data, type } = JSON.parse(e.data);\n\n      console.log('WebSocket event happen!:', 'type:', type, ', data:', data);\n\n      switch (type) {\n        case 'notifications': {\n          switch (data.type) {\n            case 'invite': {\n              this.props.addNotification(data.subscription);\n              break;\n            }\n\n            case 'delete': {\n              this.props.removeNotifications([data.subscription.id]);\n              break;\n            }\n          \n            default: \n              break;\n          }\n\n          break;\n        }\n\n        case 'invites': {\n          switch (data.type) {\n            case 'add': {\n              this.props.addInvite(data.subscription);\n              break;\n            }\n          \n            default:\n              break;\n          }\n\n          break;\n        }\n\n        case 'agents': {\n          switch (data.type) {\n            case 'new_member': {\n              this.props.addAgent(data.user);\n              break;\n            }\n\n            case 'delete_invite': {\n              this.props.deleteInvite(data.subscription.id)\n              break;\n            }\n\n            default:\n              break;\n          }\n\n          break;\n        }\n\n        case 'agencies': {\n          switch (data.type) {\n            case 'new_agency': {\n              this.props.addAgency(data.agency);\n              break;\n            }\n\n            case 'remove_agency': {\n              this.props.deleteAgency(data.agency.id);\n              break;\n            }\n\n            default:\n              break;\n          }\n\n          break;\n        }\n\n        case 'user': {\n          switch (data.type) {\n            case 'update': {\n              this.props.setUser(data.user);\n              break;\n            }\n\n            default: break;\n          }\n\n          break;\n        }\n      }\n    }\n  }\n\n  render() {\n    return null;\n  }\n}\n\nconst mapDispatchToProps = {\n  setUser,\n  addAgent,\n  addInvite,\n  deleteInvite,\n  addAgency,\n  deleteAgency,\n  addNotification,\n  removeNotifications\n}\n\nexport default connect(null, mapDispatchToProps)(Socket);","import { Suspense, useState } from 'react';\nimport { connect } from 'react-redux';\nimport { Navigate, Route, Routes } from 'react-router-dom';\n\nimport API from './api/api';\nimport { ROUTES } from './config/constants';\nimport { initApp } from './redux/ducks/user';\nimport { useDidMount } from './hooks';\nimport { IAgent, IAgency } from './interfaces/interfaces';\n\nimport NotFoundPage from './pages/NotFoundPage/NotFoundPage';\nimport ServerErrorPage from './pages/ServerErrorPage/ServerErrorPage';\nimport PrivateRoute from './components/PrivateRoute';\nimport Loadable from './components/Loadable';\nimport GlobalPreloader from './components/GlobalPreloader/GlobalPreloader';\nimport LoginPage from './pages/AuthPage/LoginPage/LoginPage';\nimport RegisterPage from './pages/AuthPage/RegisterPage/RegisterPage';\nimport RecoveryPage from './pages/AuthPage/RecoveryPage/RecoveryPage';\nimport InvitationPage from './pages/InvitationPage/InvitationPage';\nimport Modals from './containers/Modals/Modals';\nimport Socket from './components/Socket';\n\ninterface IPrivateRoutes {\n  initApp: (user: IAgent | IAgency) => void;\n}\n\nconst PrivateRoutes = (props: IPrivateRoutes) => {\n  const [isAgent, setIsAgent] = useState<null | boolean>(null);\n\n  useDidMount(() => {\n    API.getUser()\n      .then((res) => {\n        const user: IAgent | IAgency = res.data;\n\n        setIsAgent(user.type === 1);\n        props.initApp(user);\n      })\n      .catch((err) => {\n        console.log(err);\n\n        delete localStorage.token;\n        window.location.href = ROUTES.login;\n      })\n  })\n\n  if (isAgent === null) {\n    return <GlobalPreloader />\n  }\n\n  return (\n    <Loadable.MainPage>\n      <Socket />\n\n      <Routes>\n        <Route path=\"/\" element={isAgent ? <Loadable.Agencies /> : <Loadable.Agents />} />\n        <Route path=\"/schedule\" element={isAgent ? <Loadable.AgentSchedule /> : <div>Schedule</div>} />\n        <Route path=\"/notifications\" element={<Loadable.Notifications />} />\n        <Route path=\"/invites\" element={<Loadable.Invites />} />\n        <Route path=\"/settings\" element={<Loadable.Settings />} /> \n        <Route path=\"/settings/general\" element={<Loadable.SettingsGeneral />} />\n        {isAgent && <Route path=\"/settings/schedule\" element={<Loadable.SettingsSchedule />} /> }\n        <Route path=\"/settings/security\" element={<Loadable.SettingsSecurity />} />\n\n        <Route path={ROUTES.serverError} element={<ServerErrorPage />} />\n        <Route path='*' element={<NotFoundPage />} />\n      </Routes>\n    </Loadable.MainPage>\n  )\n}\n\nconst mapDispatchToProps = ({\n  initApp,\n})\n\nconst ConnectedPrivateRoutes = connect(null, mapDispatchToProps)(PrivateRoutes);\n\nconst App = () => {\n  return (\n    <Suspense fallback={<GlobalPreloader />}>\n      <Modals />\n\n      <Routes>\n        <Route path={ROUTES.invitation} element={<InvitationPage />} />\n\n        <Route path={ROUTES.auth}>\n          <Navigate to={ROUTES.login} />\n          <Route path=\"/login\" element={<LoginPage />} />\n          <Route path=\"/register\" element={<RegisterPage />} />\n          <Route path=\"/recovery\" element={<RecoveryPage />} />\n        </Route>\n\n        <PrivateRoute\n          path={ROUTES.main + '*'}\n          component={ConnectedPrivateRoutes}\n          isAuthenticated={localStorage.token}\n          redirectLink={ROUTES.login}\n        />\n\n        <Route path='*' element={<NotFoundPage />} />\n      </Routes>\n    </Suspense>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { BrowserRouter } from 'react-router-dom';\n\nimport store from './redux/store';\nimport * as serviceWorker from './serviceWorker';\n\nimport './scss/index.scss';\nimport App from './App';\n\nReactDOM.render(\n  <Provider store={store} >\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </Provider >,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}
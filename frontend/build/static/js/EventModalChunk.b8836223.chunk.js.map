{"version":3,"sources":["icons/clock.svg","icons/calendar.svg","components/Toggle/Toggle.tsx","icons/edit.svg","containers/AgentSchedule/components/Event/Event.tsx","containers/Modals/components/EventModal/EventModal.tsx"],"names":["_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","_ref2","_ref3","d","_ref4","SvgClock","_ref","svgRef","title","titleId","props","xmlns","fill","viewBox","ref","id","ForwardRef","_ref5","_ref6","_ref7","_ref8","_ref9","_ref10","_ref11","_ref12","SvgCalendar","width","height","Toggle","name","active","isDisabled","onToggle","getBgStyle","className","String","Math","random","htmlFor","type","checked","onChange","disabled","SvgEdit","EventTypes","Event","startDate","endDate","item","filterDate","dispatch","useDispatch","eventDuration","duration","result","msInHour","hours","trunc","push","minutes","join","timeConversion","Date","work_end","work_start","classModifier","request","rest","LazyLoadImage","src","getContactAvatar","agency","img","toLocaleString","hour","minute","hour12","toLowerCase","onClick","openModal","MODAL_TYPES","eventModal","event","isEditMode","ONE_HOUR_MS","defaultAgency","value","label","mapDispatchToProps","addEvent","updateEvent","connect","pending","selectedData","closeModal","setPending","useState","serverErrors","setServerErrors","agenciesList","setAgenciesList","description","setDescription","setAgency","from","getTimezoneOffset","to","setUTCMinutes","timeRange","setTimeRange","useToggle","isAvailable","toggleIsAvailable","useDidMount","API","getAgencies","undefined","then","data","map","catch","console","error","timeOptions","useMemo","dateStart","setUTCHours","dateEnd","stepDate","labelTime","timeZone","onChangeTimeHandler","prev","getValues","getSelectValue","find","option","CustomDropdownIndicator","innerProps","year","month","weekday","day","isSearchable","options","slice","defaultValue","maxMenuHeight","components","IndicatorSeparator","DropdownIndicator","classNamePrefix","isOptionDisabled","toValue","getIsOptionDisabled","start","end","rows","e","general","deleteEventModal","eventId","closeEventModal","spinnerSize","config","agencyId","date","err","response","finally"],"mappings":"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","file":"static/js/EventModalChunk.b8836223.chunk.js","sourcesContent":["function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"defs\", null);\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M12 19.2a7.2 7.2 0 100-14.4 7.2 7.2 0 000 14.4zm0-12.96a5.76 5.76 0 110 11.52 5.76 5.76 0 010-11.52z\"\n});\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M11.52 13.2h3.12v-1.44h-2.4V8.88H10.8v3.6a.72.72 0 00.72.72z\"\n});\n\nfunction SvgClock(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"#000\",\n    viewBox: \"4.8 4.8 14.4 14.4\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3, _ref4);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgClock);\nexport default __webpack_public_path__ + \"static/media/clock.f28c111f.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M2.15999 11.7597H9.83999C10.3492 11.7597 10.8376 11.5575 11.1976 11.1974C11.5577 10.8373 11.76 10.349 11.76 9.83975V2.15975C11.76 1.65053 11.5577 1.16217 11.1976 0.802101C10.8376 0.442031 10.3492 0.239746 9.83999 0.239746H2.15999C1.65077 0.239746 1.16242 0.442031 0.802345 0.802101C0.442275 1.16217 0.23999 1.65053 0.23999 2.15975V9.83975C0.23999 10.349 0.442275 10.8373 0.802345 11.1974C1.16242 11.5575 1.65077 11.7597 2.15999 11.7597ZM9.83999 10.7997H2.15999C1.90538 10.7997 1.6612 10.6986 1.48117 10.5186C1.30113 10.3385 1.19999 10.0944 1.19999 9.83975V4.07975H10.8V9.83975C10.8 10.0944 10.6988 10.3385 10.5188 10.5186C10.3388 10.6986 10.0946 10.7997 9.83999 10.7997ZM2.15999 1.19975H9.83999C10.0946 1.19975 10.3388 1.30089 10.5188 1.48092C10.6988 1.66096 10.8 1.90514 10.8 2.15975V3.11975H1.19999V2.15975C1.19999 1.90514 1.30113 1.66096 1.48117 1.48092C1.6612 1.30089 1.90538 1.19975 2.15999 1.19975Z\",\n  fill: \"#201D9F\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M3.12002 7.91995C3.38511 7.91995 3.60002 7.70505 3.60002 7.43996C3.60002 7.17486 3.38511 6.95996 3.12002 6.95996C2.85492 6.95996 2.64001 7.17486 2.64001 7.43996C2.64001 7.70505 2.85492 7.91995 3.12002 7.91995Z\",\n  fill: \"#201D9F\"\n});\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M3.12002 9.83988C3.38511 9.83988 3.60002 9.62498 3.60002 9.35988C3.60002 9.09479 3.38511 8.87988 3.12002 8.87988C2.85492 8.87988 2.64001 9.09479 2.64001 9.35988C2.64001 9.62498 2.85492 9.83988 3.12002 9.83988Z\",\n  fill: \"#201D9F\"\n});\n\nvar _ref5 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M5.04 7.91995C5.3051 7.91995 5.52 7.70505 5.52 7.43996C5.52 7.17486 5.3051 6.95996 5.04 6.95996C4.7749 6.95996 4.56 7.17486 4.56 7.43996C4.56 7.70505 4.7749 7.91995 5.04 7.91995Z\",\n  fill: \"#201D9F\"\n});\n\nvar _ref6 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M5.04 9.83988C5.3051 9.83988 5.52 9.62498 5.52 9.35988C5.52 9.09479 5.3051 8.87988 5.04 8.87988C4.7749 8.87988 4.56 9.09479 4.56 9.35988C4.56 9.62498 4.7749 9.83988 5.04 9.83988Z\",\n  fill: \"#201D9F\"\n});\n\nvar _ref7 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M6.95998 7.91995C7.22508 7.91995 7.43998 7.70505 7.43998 7.43996C7.43998 7.17486 7.22508 6.95996 6.95998 6.95996C6.69488 6.95996 6.47998 7.17486 6.47998 7.43996C6.47998 7.70505 6.69488 7.91995 6.95998 7.91995Z\",\n  fill: \"#201D9F\"\n});\n\nvar _ref8 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M6.95998 9.83988C7.22508 9.83988 7.43998 9.62498 7.43998 9.35988C7.43998 9.09479 7.22508 8.87988 6.95998 8.87988C6.69488 8.87988 6.47998 9.09479 6.47998 9.35988C6.47998 9.62498 6.69488 9.83988 6.95998 9.83988Z\",\n  fill: \"#201D9F\"\n});\n\nvar _ref9 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M8.88003 7.91995C9.14513 7.91995 9.36003 7.70505 9.36003 7.43996C9.36003 7.17486 9.14513 6.95996 8.88003 6.95996C8.61493 6.95996 8.40002 7.17486 8.40002 7.43996C8.40002 7.70505 8.61493 7.91995 8.88003 7.91995Z\",\n  fill: \"#201D9F\"\n});\n\nvar _ref10 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M5.04 6.00004C5.3051 6.00004 5.52 5.78513 5.52 5.52004C5.52 5.25494 5.3051 5.04004 5.04 5.04004C4.7749 5.04004 4.56 5.25494 4.56 5.52004C4.56 5.78513 4.7749 6.00004 5.04 6.00004Z\",\n  fill: \"#201D9F\"\n});\n\nvar _ref11 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M6.95998 6.00004C7.22508 6.00004 7.43998 5.78513 7.43998 5.52004C7.43998 5.25494 7.22508 5.04004 6.95998 5.04004C6.69488 5.04004 6.47998 5.25494 6.47998 5.52004C6.47998 5.78513 6.69488 6.00004 6.95998 6.00004Z\",\n  fill: \"#201D9F\"\n});\n\nvar _ref12 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M8.88003 6.00004C9.14513 6.00004 9.36003 5.78513 9.36003 5.52004C9.36003 5.25494 9.14513 5.04004 8.88003 5.04004C8.61493 5.04004 8.40002 5.25494 8.40002 5.52004C8.40002 5.78513 8.61493 6.00004 8.88003 6.00004Z\",\n  fill: \"#201D9F\"\n});\n\nfunction SvgCalendar(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 12,\n    height: 12,\n    viewBox: \"0 0 12 12\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3, _ref4, _ref5, _ref6, _ref7, _ref8, _ref9, _ref10, _ref11, _ref12);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgCalendar);\nexport default __webpack_public_path__ + \"static/media/calendar.8cc888b6.svg\";\nexport { ForwardRef as ReactComponent };","import './Toggle.scss';\n\ninterface IToggleProps {\n  name: string;\n  active: boolean;\n  title?: string;\n  isDisabled?: boolean;\n  onToggle: () => void;\n};\n\nconst Toggle = ({ name, active, title, isDisabled, onToggle }: IToggleProps) => {\n  const getBgStyle = (className: string): string => `${className}--${active ? 'true' : 'false'}`;\n\n  const id: string = String(Math.random() * 1000);\n\n  return (\n    <label className='toggle' htmlFor={id} >\n      {title &&\n        <span className='toggle__title'>{title}</span>\n      }\n\n      <input\n        type=\"checkbox\"\n        name={name}\n        id={id}\n        className=\"toggle__checkbox\"\n        checked={active}\n        onChange={onToggle}\n        disabled={isDisabled}\n      />\n\n      <div className={`toggle__main ${getBgStyle('toggle__main')}`}>\n        <div className={`toggle__indicator ${getBgStyle('toggle__indicator')}`}></div>\n      </div>\n    </label>\n  );\n};\n\nexport default Toggle;","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M2.1 9.89l-.12.11-1.12 5.14L6 14.02l9.14-9.14L11.12.86 2.1 9.9zm1.14.38L9.2 4.31 11.7 6.8l-5.96 5.96-2.5-2.49zm-.45 1.08l1.86 1.85-2.37.52.51-2.37zm9.66-5.31l-2.49-2.5 1.16-1.15 2.49 2.49-1.16 1.16z\"\n});\n\nfunction SvgEdit(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    fill: \"#000\",\n    viewBox: \"0 0 16 16\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgEdit);\nexport default __webpack_public_path__ + \"static/media/edit.358ba47c.svg\";\nexport { ForwardRef as ReactComponent };","import { useDispatch } from 'react-redux';\n\nimport { IEvent } from '../../../../interfaces/interfaces';\nimport { MODAL_TYPES, openModal } from '../../../../redux/ducks/activeWindows';\nimport { getContactAvatar, classModifier } from '../../../../utils';\n\nimport './Event.scss';\nimport LazyLoadImage from '../../../../components/LazyLoadImage/LazyLoadImage';\nimport { ReactComponent as EditIcon } from '../../../../icons/edit.svg';\n\nconst IS_HOUR_12 = true;\n\nexport enum EventTypes {\n  work = 1,\n  rest = 2,\n  request = 3,\n}\n\ninterface IEventProps {\n  item: IEvent;\n  filterDate: number;\n}\n\nconst Event = ({ item, filterDate }: IEventProps) => {\n  const dispatch = useDispatch();\n\n  const timeConversion = (duration: number) => {\n    const result: string[] = [];\n\n    const msInHour = 1000 * 60 * 60;\n    const hours = Math.trunc(duration / msInHour);\n    if (hours > 0) {\n      result.push(hours + 'h');\n      duration = duration - (hours * msInHour);\n    }\n\n    const msInMinute = 1000 * 60;\n    const minutes = Math.trunc(duration / msInMinute);\n    if (minutes > 0) {\n      result.push(minutes + ' min');\n    }\n\n    return result.join(' ');\n  }\n\n  const handleEditBtnClick = () => {\n    dispatch(openModal(MODAL_TYPES.eventModal, {\n      filterDate,\n      event: item, \n      isEditMode: true \n    }));\n  }\n\n  const getTimeRange = (startDate: string, endDate: string) => {\n    const startTime = new Date(startDate)\n      .toLocaleString('en-US', { hour: '2-digit', minute: '2-digit', hour12: IS_HOUR_12 })\n      .toLowerCase();\n\n    const endTime = new Date(endDate)\n      .toLocaleString('en-US', { hour: '2-digit', minute: '2-digit', hour12: IS_HOUR_12 })\n      .toLowerCase();\n\n    return startTime + ' - ' + endTime;\n  }\n\n  const eventDuration = timeConversion(+new Date(item.work_end) - +new Date(item.work_start));\n\n  return (\n    <div className={classModifier('event', [\n      item.type === EventTypes.request && 'request',\n      item.type === EventTypes.rest && 'unavailable',\n    ])}>\n      {item.type === EventTypes.rest\n        ? <p>Unavailable</p>\n        : (<>\n          <div className=\"event__avatar\">\n            <LazyLoadImage src={getContactAvatar(item.agency || { img: null, type: 2 })} />\n          </div>\n\n          <div className=\"event__info\">\n            {item.agency &&\n              <div className=\"event__name\">\n                {item.agency.name}\n              </div>\n            }\n\n            <div className=\"event__time\">\n              {getTimeRange(item.work_start, item.work_end)}\n            </div>\n          </div>\n        </>)\n      }\n\n      <button \n        className=\"event__edit-btn\" \n        type=\"button\"\n        onClick={handleEditBtnClick}\n      >\n        <EditIcon />\n      </button>\n\n      <span className=\"event__duration\">\n        {eventDuration}\n      </span>\n    </div>\n  )\n}\n\nexport default Event;\n","import { useState, useMemo }  from 'react';\nimport { connect } from 'react-redux';\n// import AsyncSelect from 'react-select/async';\nimport Select, { IndicatorProps } from 'react-select';\n\nimport API from '../../../../api/api';\nimport { EventTypes } from '../../../AgentSchedule/components/Event/Event';\nimport { addEvent, updateEvent } from '../../../../redux/ducks/agentSchedule';\nimport { useToggle, useDidMount } from '../../../../hooks';\nimport { MODAL_TYPES, openModal } from '../../../../redux/ducks/activeWindows';\nimport { /* IAnyObject, IEvent, */ IAgency, ReactSelectOption } from '../../../../interfaces/interfaces';\n\nimport './EventModal.scss';\nimport { ReactComponent as TrashIcon } from '../../../../icons/trash.svg';\nimport { ReactComponent as ClockIcon } from '../../../../icons/clock.svg';\nimport { ReactComponent as CalendarIcon } from '../../../../icons/calendar.svg';\nimport Toggle from '../../../../components/Toggle/Toggle';\nimport AsyncBtn from '../../../../components/AsyncBtn/AsyncBtn';\n\nconst IS_HOUR_12 = true;\nconst MAX_MENU_HEIGHT = 200;\nconst ONE_HOUR_MS = 3600000;\n\nconst defaultAgency = { value: 0, label: 'None' };\n\n// interface IEventModalProps {\n//   event: IEvent;\n//   pending: boolean;\n//   isEditMode: boolean;\n//   selectedData: number;\n//   addEvent: (event: IEvent) => void;\n//   updateEvent: (event: IEvent) => void;\n//   openModal: (type: string, params: IAnyObject) => void;\n//   closeModal: () => void;\n//   setPending: (pending: boolean) => void;\n// }\n\nconst EventModal = (props: any) => {\n  const {\n    event,\n    pending,\n    isEditMode,\n    filterDate,\n    selectedData,\n    addEvent,\n    updateEvent,\n    openModal,\n    closeModal,\n    setPending,\n  } = props;\n\n  const [serverErrors, setServerErrors] = useState<{ [key: string]: string }>({});\n  const [agenciesList, setAgenciesList] = useState<ReactSelectOption[]>([]);\n  const [description, setDescription] = useState<string>(event?.description || '');\n  const [agency, setAgency] = useState<ReactSelectOption>(event?.agency\n    ? { value: event.agency.id, label: event.agency.name }\n    : defaultAgency\n  );\n  const [timeRange, setTimeRange] = useState(event ? {\n    from:  +new Date(event.work_start) + new Date().getTimezoneOffset() * (-1) * 60000, //If editing event set UTC date from string\n    to: +new Date(event.work_end) + new Date().getTimezoneOffset() * (-1) * 60000\n  }:{\n    from: +new Date(selectedData).setUTCMinutes(0, 0, 0), // Else get time range from selected cell\n    to: +new Date(selectedData).setUTCMinutes(60, 0, 0)\n  });\n\n  const [isAvailable, toggleIsAvailable] = useToggle(event?.type !== EventTypes.rest);\n\n  useDidMount(() => {\n    API.getAgencies(undefined, 10)\n      .then(({ data }) => {\n        setAgenciesList(data.map((agency: IAgency) => ({ value: agency.id, label: agency.name })));\n      })\n      .catch(console.error);\n  })\n\n  //Generate time options for select\n  const timeOptions = useMemo(() => {\n    let dateStart = new Date(filterDate).setUTCHours(0, 0, 0, 0);\n    let dateEnd = new Date(filterDate).setUTCHours(24, 0, 0, 0);\n    let timeOptions: ReactSelectOption[] = [];\n\n    let stepDate = dateStart;\n\n    while (stepDate < dateEnd) {\n      const labelTime = new Date(stepDate)\n        .toLocaleString('en-US', { hour: '2-digit', minute: '2-digit', hour12: IS_HOUR_12, timeZone: 'UTC' });\n\n      timeOptions.push({ value: stepDate, label: labelTime });\n\n      stepDate += ONE_HOUR_MS;\n    }\n\n    timeOptions.push({ value: dateEnd, label: 'Midnight' });\n\n    return timeOptions;\n  }, [])\n  \n  const onSubmit = () => {\n    const config = {\n      id: isEditMode ? event.id : null,\n      end: timeRange.to,\n      start: timeRange.from,\n      type: isAvailable ? 'work' : 'rest',\n      agencyId: agency.value,\n      description\n    }\n\n    setPending(true);\n\n    if (isEditMode) {\n      return API.addEvent(config, 'update')\n        .then(({ data }) => {\n          updateEvent(data.event, data.date);\n          closeModal();\n        })\n        .catch((err) => {\n          setServerErrors(err.response.data);\n          console.error(err);\n        })\n        .finally(() => setPending(false));\n    } else {\n      return API.addEvent(config)\n        .then(({ data }) => {\n          addEvent(data.event, data.date);\n          closeModal();\n        })\n        .catch((err) => {\n          setServerErrors(err.response.data);\n          console.error(err);\n        })\n        .finally(() => setPending(false));\n    }\n  }\n\n  const onChangeTimeHandler = (value: number, type: 'from' | 'to') => {\n    if (timeRange[type] === value) return;\n\n    const getValues = (timeRange: { from: number, to: number }, type: 'from' | 'to') => {\n      if (type === 'to') {\n        return { ...timeRange, to: value };\n      }\n      else {\n        // If \"from\" time is more than \"to\" - set \"to\" time one hour more than \"from\"\n        if (value >= timeRange.to) {\n          return { from: value, to: value + ONE_HOUR_MS };\n        }\n        else {\n          return { ...timeRange, from: value };\n        }\n      }\n    }\n\n    setTimeRange((prev) => getValues(prev, type))\n  }\n\n  const handleDeleteBtnClick = () => {\n    openModal(MODAL_TYPES.deleteEventModal, { \n      eventId: event.id,\n      closeEventModal: closeModal,\n    });\n  }\n\n  const getIsOptionDisabled = ({ value: toValue, label }: ReactSelectOption) => {\n    return (timeRange.from >= toValue) && label !== '24:00';\n  }\n\n  const getSelectValue = (timeOptions: ReactSelectOption[], value: number) => {\n    return timeOptions.find((option: ReactSelectOption) => option.value === value);\n  };\n\n  // const loadOptions = (query: string) => {\n  //   return query\n  //     ? API.getAgencies()\n  //     : API.getAgencies(undefined, undefined, query);\n  // }\n\n  const CustomDropdownIndicator = (props: IndicatorProps<ReactSelectOption, false>) => (\n    <div {...props.innerProps} className=\"time-select__indicator time-select__dropdown-indicator\">\n      <ClockIcon />\n    </div>\n  )\n\n  const getDateToShow = () => {\n    return new Date(filterDate).toLocaleString('en-GB', {\n      year: 'numeric',\n      month: 'long',\n      weekday: 'short',\n      day: 'numeric'\n    })\n  }\n \n  return (\n    <div className=\"event-modal modal-wrap\">\n      <h2 className=\"event-modal__title\">Add Event</h2>\n\n      <div className=\"event-modal__date\">\n        <CalendarIcon className=\"event-modal__date-icon\" />\n\n        <span>{getDateToShow()}</span>\n      </div>\n\n      <div className=\"event-modal__field event-modal__field--event-time\">\n        <div className=\"event-modal__event-time-wrap\">\n          <div className=\"event-modal__event-time\">\n            <label className=\"label label--required\">Start at</label>\n\n            <Select\n              isSearchable={false}\n              options={timeOptions.slice(0, timeOptions.length - 1)}\n              defaultValue={timeOptions[8]}\n              maxMenuHeight={MAX_MENU_HEIGHT}\n              value={getSelectValue(timeOptions, timeRange.from)}\n              onChange={(value) => value && onChangeTimeHandler(value.value, 'from')}\n              components={{\n                IndicatorSeparator: null,\n                DropdownIndicator: CustomDropdownIndicator,\n              }}\n              className=\"time-select\"\n              classNamePrefix=\"time-select\"\n            />\n          </div>\n\n          <div className=\"event-modal__event-time\">\n            <label className=\"label label--required\">Ends at</label>\n\n            <Select\n              isSearchable={false}\n              options={timeOptions.slice(1)}\n              defaultValue={timeOptions[17]}\n              maxMenuHeight={MAX_MENU_HEIGHT}\n              value={getSelectValue(timeOptions, timeRange.to)}\n              isOptionDisabled={(option) => getIsOptionDisabled(option)}\n              onChange={(value) => value && onChangeTimeHandler(value.value, 'to')}\n              components={{\n                IndicatorSeparator: null,\n                DropdownIndicator: CustomDropdownIndicator\n              }}\n              className=\"time-select\"\n              classNamePrefix=\"time-select\"\n            />\n          </div>\n        </div>\n\n        {(serverErrors.start || serverErrors.end) &&\n          <div className=\"event-modal__error-wrap\">\n            <div className=\"event-modal__error event-modal__error--event-time\">\n              {serverErrors.start ? serverErrors.start : serverErrors.end}\n            </div>\n          </div>\n        }\n      </div>\n\n      <div className=\"event-modal__field event-modal__field--unavailable\">\n        <span>Unavailable</span>\n\n        <Toggle\n          name=\"unavailable\"\n          active={!isAvailable}\n          onToggle={toggleIsAvailable}\n        />\n      </div>\n\n      <div className=\"event-modal__field event-modal__field--agency\">\n        <label className=\"label label--optional\">Choose agency</label>\n\n        <Select\n          value={agency}\n          defaultValue={defaultAgency}\n          maxMenuHeight={MAX_MENU_HEIGHT}\n          options={[defaultAgency, ...agenciesList]}\n          onChange={(value) => value && setAgency(value)}\n          components={{\n            IndicatorSeparator: null,\n          }}\n          className=\"agency-select\"\n          classNamePrefix=\"agency-select\"\n        />\n      </div>\n\n      <div className=\"event-modal__field event-modal__field--description\">\n        <label className=\"label label--optional\">Description</label>\n\n        <textarea \n          className=\"event-modal__textarea textarea input\"\n          rows={6}\n          value={description}\n          onChange={(e) => setDescription(e.target.value)}\n        />\n      </div>\n\n      {serverErrors.general &&\n        <div className=\"event-modal__error-wrap\">\n          <div className=\"event-modal__error event-modal__error--general\">\n            {serverErrors.general}\n          </div>\n        </div>\n      }\n\n      <div className=\"event-modal__btns\">\n        {event &&\n          <button\n            type=\"button\"\n            className=\"event-modal__delete-btn\"\n            onClick={handleDeleteBtnClick}\n          >\n            <TrashIcon className=\"event-modal__delete-icon\" />\n          </button>\n        }\n\n        <button\n          type=\"button\"\n          className=\"event-modal__cancel-btn btn btn--cancel\"\n          onClick={() => {\n            !props.pending && props.closeModal();\n          }}\n        >\n          Cancel\n        </button>\n\n        <AsyncBtn\n          type=\"button\"\n          className=\"event-modal__save-btn btn btn--success\"\n          spinnerSize=\"18px\"\n          onClick={onSubmit}\n          pending={pending}\n        >\n          Save\n        </AsyncBtn>\n      </div>\n    </div>\n  )\n}\n\nconst mapDispatchToProps = {\n  openModal,\n  addEvent,\n  updateEvent,\n}\n\nexport default connect(null, mapDispatchToProps)(EventModal);\n"],"sourceRoot":""}